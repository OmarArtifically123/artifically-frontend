import{u as e,j as r,c as a,a as s,t,w as i,b as o,T as n}from"./index-1DIB5rGU.js";import{r as l}from"./vendor-DO1dN4GI.js";import{f as d}from"./automations-CUYjLCF8.js";import"./performance-Bp-PRVTn.js";import"./api-7w58lNoV.js";import"./graphql-MaKh5oBd.js";const c=a(e=>r.jsxs("div",{className:"automation-card",style:e.v0,children:[r.jsxs("div",{className:"card-header",style:e.v1,children:[r.jsx("div",{className:"card-icon",style:e.v2,children:e.v3}),r.jsxs("div",{className:"card-price",style:e.v4,children:[e.v5,"/mo"]})]}),r.jsx("h3",{style:e.v6,children:e.v7}),r.jsx("p",{style:e.v8,children:e.v9}),e.v10,r.jsxs("div",{className:"card-actions",style:e.v11,children:[r.jsx("button",{className:"btn btn-secondary btn-small",onClick:e.v12,style:e.v13,children:"Try Demo"}),r.jsx("button",{className:"btn btn-primary btn-small",onClick:e.v14,style:e.v15,children:"Buy & Deploy"})]})]}),{name:"AutomationCard_1",portals:["v3","v5","v7","v9","v10"]}),m=function({item:a,onDemo:s,onBuy:t}){var i;const{darkMode:o}=e(),n=l.useMemo(()=>(e,r="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:r,minimumFractionDigits:0}).format(e),[]);return r.jsx(c,{v0:{position:"relative",display:"grid",gap:"1rem",padding:"1.75rem",borderRadius:"1.25rem",border:"1px solid "+(o?"rgba(148,163,184,0.22)":"rgba(148,163,184,0.32)"),background:o?"linear-gradient(145deg, rgba(15,23,42,0.85), rgba(30,41,59,0.9))":"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(241,245,249,0.92))",boxShadow:o?"0 25px 45px rgba(8, 15, 34, 0.55)":"0 20px 35px rgba(148, 163, 184, 0.35)",color:o?"#e2e8f0":"#1f2937",transition:"transform var(--transition-fast), box-shadow var(--transition-fast)"},v1:{display:"flex",alignItems:"center",justifyContent:"space-between"},v2:{width:"3rem",height:"3rem",display:"grid",placeItems:"center",fontSize:"1.75rem",borderRadius:"0.9rem",background:o?"rgba(99,102,241,0.18)":"rgba(99,102,241,0.12)"},v3:a.icon,v4:{fontWeight:700,fontSize:"1rem",color:o?"#cbd5e1":"#475569"},v5:n(a.priceMonthly,a.currency),v6:{fontSize:"1.25rem",fontWeight:700},v7:a.name,v8:{color:o?"#94a3b8":"#4b5563"},v9:a.description,v10:(null==(i=a.tags)?void 0:i.length)>0&&r.jsx("div",{className:"card-tags",style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:a.tags.map(e=>r.jsx("span",{className:"tag",style:{padding:"0.35rem 0.65rem",borderRadius:"0.75rem",fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.05em",textTransform:"uppercase",background:o?"rgba(99,102,241,0.18)":"rgba(99,102,241,0.12)",color:o?"#a5b4fc":"#4338ca"},children:e},e))}),v11:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},v12:()=>s(a),v13:{padding:"0.6rem 1.1rem",borderRadius:"0.85rem",border:"1px solid "+(o?"rgba(148,163,184,0.35)":"rgba(148,163,184,0.45)"),background:o?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",color:o?"#e2e8f0":"#1f2937"},v14:()=>t(a),v15:{padding:"0.6rem 1.2rem",borderRadius:"0.85rem",boxShadow:o?"0 15px 30px rgba(99, 102, 241, 0.35)":"0 15px 30px rgba(99, 102, 241, 0.25)"}})},g=a(e=>r.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"demo-modal-title",style:e.v0,children:r.jsxs("div",{className:"modal",style:e.v1,children:[r.jsxs("div",{className:"modal-header",style:e.v2,children:[r.jsxs("h2",{id:"demo-modal-title",style:e.v3,children:[e.v4," ",e.v5," Demo"]}),r.jsx("button",{className:"close-btn",onClick:e.v6,"aria-label":"Close demo",style:e.v7,children:"×"})]}),r.jsx("p",{style:e.v8,children:e.v9}),e.v10]})}),{name:"DemoModal_1",portals:["v4","v5","v9","v10"]}),p=function({automation:a,onClose:i}){const{darkMode:o}=e(),[n,d]=l.useState(!1),[c,m]=l.useState(null),p="success"===(null==c?void 0:c.status)?o?"#6ee7b7":"#047857":o?"#fca5a5":"#b91c1c";return r.jsx(g,{v0:{position:"fixed",inset:0,background:o?"rgba(15, 23, 42, 0.65)":"rgba(15, 23, 42, 0.35)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"grid",placeItems:"center",padding:"2rem",zIndex:1200},v1:{width:"min(720px, 100%)",borderRadius:"1.5rem",padding:"2rem",background:o?"linear-gradient(135deg, rgba(15,23,42,0.92), rgba(30,41,59,0.88))":"linear-gradient(135deg, rgba(255,255,255,0.98), rgba(241,245,249,0.95))",border:"1px solid "+(o?"rgba(148,163,184,0.28)":"rgba(148,163,184,0.45)"),boxShadow:o?"0 35px 65px rgba(8, 15, 34, 0.55)":"0 25px 55px rgba(148, 163, 184, 0.35)",color:o?"#e2e8f0":"#1f2937",display:"grid",gap:"1.5rem"},v2:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},v3:{fontSize:"1.6rem",fontWeight:700},v4:a.icon,v5:a.name,v6:i,v7:{width:"2.25rem",height:"2.25rem",borderRadius:"999px",border:"1px solid "+(o?"rgba(148,163,184,0.3)":"rgba(148,163,184,0.4)"),background:"transparent",color:o?"#e2e8f0":"#1f2937",fontSize:"1.2rem",cursor:"pointer"},v8:{color:o?"#94a3b8":"#475569"},v9:a.description,v10:c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{background:o?"rgba(15,23,42,0.75)":"rgba(248,250,252,0.95)",padding:"1.25rem",borderRadius:"1rem",border:"1px solid "+(o?"rgba(148,163,184,0.28)":"rgba(148,163,184,0.4)"),display:"grid",gap:"0.75rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",color:p,fontWeight:700},children:[r.jsx("span",{children:"success"===c.status?"✅ Success":"❌ Failed"}),c.cost&&c.latency&&r.jsxs("div",{style:{color:o?"#cbd5e1":"#475569",fontSize:"0.85rem"},children:["Cost: ",c.cost," • Latency: ",c.latency]})]}),r.jsx("div",{style:{fontFamily:"var(--font-mono)",fontSize:"0.9rem",lineHeight:1.6,color:o?"#f8fafc":"#0f172a",background:o?"rgba(15,23,42,0.85)":"rgba(255,255,255,0.9)",borderRadius:"0.85rem",padding:"1rem",border:"1px solid "+(o?"rgba(148,163,184,0.18)":"rgba(148,163,184,0.3)")},children:c.output||"No output provided."})]}),c.logs&&c.logs.length>0&&r.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[r.jsx("h4",{style:{fontSize:"1rem",fontWeight:600},children:"Execution Logs"}),r.jsx("div",{style:{background:o?"rgba(15,23,42,0.8)":"rgba(15,23,42,0.85)",color:"#f8fafc",padding:"1rem",borderRadius:"0.85rem",fontFamily:"var(--font-mono)",fontSize:"0.85rem",maxHeight:"240px",overflowY:"auto"},children:c.logs.map((e,a)=>r.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"0.5rem"},children:[r.jsxs("span",{style:{opacity:.6},children:["[",e.time,"]"]}),r.jsx("span",{style:{minWidth:"3rem",textTransform:"uppercase"},children:e.level}),r.jsx("span",{children:e.message})]},a))})]})]}):r.jsx("div",{style:{textAlign:"center",padding:"2rem 0"},children:r.jsx("button",{className:"btn btn-primary",disabled:n,onClick:async()=>{var e,r;d(!0),m(null);try{const e=await s.post("/ai/demo",{automationId:a.id});m(e.data)}catch(i){const a=null==(e=null==i?void 0:i.response)?void 0:e.data;(null==(r=null==a?void 0:a.errors)?void 0:r.length)?m({status:"error",output:a.errors.map(e=>`${e.field}: ${e.message}`).join(", "),logs:[]}):t((null==a?void 0:a.message)||"Demo failed",{type:"error"})}finally{d(!1)}},style:{padding:"0.9rem 1.6rem",borderRadius:"0.95rem",fontSize:"1rem"},children:n?r.jsx("span",{className:"loading",style:{width:"1.5rem",height:"1.5rem"}}):"Run Demo"})})})},v=a(e=>r.jsxs("div",{className:"section-header",style:e.v0,children:[r.jsxs("div",{style:e.v1,children:[r.jsxs("div",{children:[r.jsx("h2",{style:e.v2,children:"Automation Marketplace"}),r.jsx("p",{style:e.v3,children:"Pick an automation, preview the workflow, and deploy with glassmorphism-rich previews."})]}),e.v4]}),r.jsx("div",{style:e.v5,children:e.v6})]}),{name:"JSX_sectionHeader_1",portals:["v4","v6"]}),b=a(e=>r.jsx("section",{className:"marketplace",id:"marketplace",style:e.v0,children:r.jsxs("div",{className:"container",style:e.v1,children:[e.v2,r.jsxs("div",{style:e.v3,children:[r.jsx("div",{className:"loading",style:e.v4}),r.jsx("p",{style:e.v5,children:"Loading automations…"})]})]})}),{name:"Marketplace_1",portals:["v2"]}),u=a(e=>r.jsx("section",{className:"marketplace",id:"marketplace",style:e.v0,children:r.jsxs("div",{className:"container",style:e.v1,children:[e.v2,r.jsxs("div",{style:e.v3,children:[r.jsx("div",{style:e.v4,children:"⚠️"}),r.jsx("h3",{style:e.v5,children:"Unable to Load Marketplace"}),r.jsx("p",{style:e.v6,children:"We're having trouble loading the automation marketplace. Please check your connection and try again."}),r.jsx("button",{className:"btn btn-primary",onClick:e.v7,children:"Retry"})]})]})}),{name:"Marketplace_2",portals:["v2"]}),x=a(e=>r.jsxs("section",{className:"marketplace",id:"marketplace",style:e.v0,children:[r.jsxs("div",{className:"container",style:e.v1,children:[e.v2,e.v3,e.v4]}),e.v5]}),{name:"Marketplace_3",portals:["v2","v3","v4","v5"]}),y=function({user:a,openAuth:c}){const{darkMode:g}=e(),[y,h]=l.useState(null),[f,j]=l.useState([]),[k,w]=l.useState(!0),[S,N]=l.useState(null),[R,z]=l.useState(null);l.useEffect(()=>{i();(async()=>{try{w(!0),N(null);const e=await d();if(!Array.isArray(e))throw new Error("Invalid data format received");j(e);const r=e.map(e=>Math.round(100*(e.roi||4.2)));o(r).then(e=>z(Number((e/100).toFixed(2)))).catch(e=>console.warn("Failed to compute ROI average",e))}catch(e){console.error("Error loading automations:",e),j([]),N(e),t((null==e?void 0:e.message)||"Failed to load automations",{type:"error"})}finally{w(!1)}})()},[]);const C=async e=>{var r,i;if(e&&e.id)if(a)if(a.verified)try{const r={automationId:e.id,placeholders:{businessName:a.businessName||"",businessPhone:a.businessPhone||"",businessEmail:a.businessEmail||"",websiteUrl:a.websiteUrl||""}};await s.post("/deployments",r),t(`Successfully deployed ${e.name||"automation"}`,{type:"success"})}catch(o){console.error("Deployment error:",o);const e=null==(r=null==o?void 0:o.response)?void 0:r.data;if(null==(i=null==e?void 0:e.errors)?void 0:i.length)t(e.errors.map(e=>`${e.field}: ${e.message}`).join(", "),{type:"error"});else{const r=(null==e?void 0:e.message)||(null==o?void 0:o.message)||"Deployment failed";t(r,{type:"error"})}}else t("Please verify your email before deploying automations.",{type:"warn"});else c("signup");else t("Invalid automation selected",{type:"error"})},I=e=>{e&&e.id?h(e):t("Invalid automation selected",{type:"error"})},W=r.jsx(v,{v0:{display:"flex",flexDirection:"column",gap:"1rem"},v1:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",flexWrap:"wrap"},v2:{fontSize:"2.4rem",fontWeight:800},v3:{color:g?"#94a3b8":"#475569"},v4:r.jsx(n,{}),v5:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},v6:["Instant deployments","Security reviews","Theme-aware demos",R?`Avg ROI ${R}x`:null].filter(Boolean).map(e=>r.jsx("span",{style:{padding:"0.4rem 0.75rem",borderRadius:"0.8rem",background:g?"rgba(148,163,184,0.18)":"rgba(99,102,241,0.12)",border:"1px solid "+(g?"rgba(148,163,184,0.32)":"rgba(99,102,241,0.25)"),fontSize:"0.85rem",fontWeight:600,color:g?"#cbd5e1":"#1f2937"},children:e},e))});return k?r.jsx(b,{v0:{padding:"5rem 0"},v1:{display:"grid",gap:"2rem"},v2:W,v3:{textAlign:"center",padding:"4rem 0",borderRadius:"1.5rem",border:"1px solid "+(g?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"),background:g?"linear-gradient(145deg, rgba(15,23,42,0.75), rgba(30,41,59,0.82))":"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(241,245,249,0.92))"},v4:{width:"40px",height:"40px",margin:"0 auto"},v5:{color:g?"#94a3b8":"#475569",marginTop:"1rem"}}):S&&0===f.length?r.jsx(u,{v0:{padding:"5rem 0"},v1:{display:"grid",gap:"2rem"},v2:W,v3:{textAlign:"center",padding:"4rem 0",borderRadius:"1.5rem",border:"1px solid "+(g?"rgba(248,113,113,0.4)":"rgba(248,113,113,0.5)"),background:g?"linear-gradient(145deg, rgba(127,29,29,0.45), rgba(15,23,42,0.85))":"linear-gradient(145deg, rgba(254,226,226,0.95), rgba(254,242,242,0.9))",color:g?"#fecaca":"#b91c1c"},v4:{fontSize:"3rem",marginBottom:"1rem"},v5:{fontSize:"1.5rem",marginBottom:"0.5rem"},v6:{maxWidth:"420px",margin:"0 auto 1.5rem"},v7:()=>window.location.reload()}):r.jsx(x,{v0:{padding:"5rem 0"},v1:{display:"grid",gap:"2.5rem"},v2:W,v3:S&&f.length>0&&r.jsx("div",{role:"alert",style:{padding:"1rem 1.25rem",borderRadius:"1rem",border:"1px solid "+(g?"rgba(245,158,11,0.4)":"rgba(245,158,11,0.5)"),background:g?"rgba(245,158,11,0.12)":"rgba(245,158,11,0.18)",color:g?"#fbbf24":"#b45309",textAlign:"center"},children:"Some automations may not be displayed due to a connection issue."}),v4:0===f.length?r.jsxs("div",{style:{textAlign:"center",padding:"4rem 0",borderRadius:"1.5rem",border:"1px solid "+(g?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)")},children:[r.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"🤔"}),r.jsx("h3",{style:{fontSize:"1.4rem",marginBottom:"0.75rem"},children:"No automations found"}),r.jsx("p",{style:{color:g?"#94a3b8":"#475569"},children:"Check back soon—new automations are added every week."})]}):r.jsx("div",{className:"automation-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"},children:f.map(e=>r.jsx(m,{item:e,onDemo:I,onBuy:C},e.id))}),v5:y&&r.jsx(p,{automation:y,onClose:()=>h(null)})})};export{y as default};
