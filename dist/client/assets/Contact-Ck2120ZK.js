var D=Object.defineProperty,L=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var N=(t,n,s)=>n in t?D(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,x=(t,n)=>{for(var s in n||(n={}))W.call(n,s)&&N(t,s,n[s]);if(P)for(var s of P(n))J.call(n,s)&&N(t,s,n[s]);return t},S=(t,n)=>L(t,z(n));var $=(t,n,s)=>new Promise((i,c)=>{var j=m=>{try{d(s.next(m))}catch(h){c(h)}},w=m=>{try{d(s.throw(m))}catch(h){c(h)}},d=m=>m.done?i(m.value):Promise.resolve(m.value).then(j,w);d((s=s.apply(t,n)).next())});import{r as p,j as e}from"./react-vendor-bEOajVqR.js";import{s as o}from"./index-CrGJeRyx.js";import"./vendor-CtYYAZJ3.js";import"./three-vendor-7241h_j-.js";import"./framer-vendor-DE1cJCbf.js";import"./gsap-vendor-DSkmy12n.js";const C={name:"",email:"",topic:"",message:"",contactMethod:"email",timeline:"this-quarter",shareMetrics:!0},I="contact-form-preferences",q="contact-form-topic-history",U=1400,v={name:"Let us know who to address our reply to.",email:"We'll only use this to send the follow-up conversation.",topic:"Share the initiative or question you want to tackle next.",message:"Describe the current workflow and the outcome you're expecting.",contactMethod:"Pick the follow-up channel that works best for your team.",timeline:"This helps us assign the right solution architects to your project.",shareMetrics:"Sharing performance metrics lets us tailor optimization playbooks."},Y=()=>{if(typeof window=="undefined")return{};try{const t=window.localStorage.getItem(I);if(!t)return{};const n=JSON.parse(t);return typeof n=="object"&&n?n:{}}catch(t){return console.warn("Failed to parse stored contact preferences",t),{}}},K=()=>{if(typeof window=="undefined")return[];try{const t=window.localStorage.getItem(q);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(t){return console.warn("Failed to parse topic history",t),[]}},G=t=>t.contactMethod!==C.contactMethod||t.timeline!==C.timeline||t.shareMetrics!==C.shareMetrics,g=t=>{if(!t&&t!==0)return"";try{return decodeURIComponent(String(t).replace(/\+/g," "))}catch(n){return String(t)}},A=(t="")=>t.split(/\s+/).filter(Boolean).map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" ");function V(t={}){if(typeof window=="undefined")return{};const n={},s=new URLSearchParams(window.location.search),i=(document.referrer||"").toLowerCase(),c=(R,H)=>{H==null||H===""||t[R]&&String(t[R]).trim()||(n[R]=H)},j=g(s.get("name")||s.get("full_name")||s.get("contact"));c("name",j);const w=g(s.get("email")||s.get("user_email"));c("email",w);const d=g(s.get("topic"))||g(s.get("use_case"))||g(s.get("campaign"));d&&c("topic",A(d));const m=g(s.get("focus")||s.get("need"));m&&!n.topic&&c("topic",A(m)),n.topic||(i.includes("pricing")||s.get("from")==="pricing"?c("topic","Pricing and packaging"):i.includes("docs")||i.includes("api")?c("topic","API integration support"):(i.includes("case-studies")||i.includes("customers"))&&c("topic","Customer success automation"));const h=g(s.get("utm_campaign")),u=g(s.get("company")||s.get("org"))||g(s.get("account"));(!t.message||!t.message.trim())&&(h&&h.toLowerCase().includes("migration")?n.message=`Planning a migration for ${u||"our team"} and want to understand integration requirements and support windows.`:i.includes("pricing")?n.message=`Reviewing pricing and packaging for ${u||"our organization"}. We'd like a quick walkthrough of deployment effort and ROI benchmarks.`:d&&(n.message=`Exploring ${d} automation for ${u||"our team"}. Looking for setup guidance and recommended playbooks.`));const E=g(s.get("timeline")),b=new Date,f=b.getHours(),y=b.getDay()===0||b.getDay()===6;(!t.timeline||t.timeline===C.timeline)&&(E?c("timeline",E):y||f>=18?c("timeline","next-quarter"):f<10?c("timeline","immediate"):c("timeline","this-quarter"));const l=g(s.get("contact_method")||s.get("channel"));return(!t.contactMethod||t.contactMethod===C.contactMethod)&&(l.includes("slack")?c("contactMethod","slack"):(l.includes("video")||l.includes("call")||i.includes("demo"))&&c("contactMethod","video-call")),s.get("share_metrics")==="false"&&c("shareMetrics",!1),n}function re(){const t=p.useMemo(()=>Y(),[]),n=p.useMemo(()=>V(t),[t]),s=p.useMemo(()=>x(x(x({},C),n),t),[n,t]),[i,c]=p.useState(s),[j,w]=p.useState(""),[d,m]=p.useState(()=>G(s)),[h,F]=p.useState(()=>K()),[u,E]=p.useState(null),b=p.useRef({}),f=a=>{const{name:r,value:k,type:O,checked:_}=a.target;c(B=>S(x({},B),{[r]:O==="checkbox"?_:k})),l(r)},y=(a,r)=>{typeof r=="string"&&r.trim().length||typeof r=="boolean"&&r||(l(a),b.current[a]=setTimeout(()=>{E(a)},U))},l=a=>{const r=b.current[a];r&&(clearTimeout(r),delete b.current[a]),E(k=>k===a?null:k)},R=a=>{c(r=>S(x({},r),{topic:a})),l("topic")},H=a=>$(this,null,function*(){if(a.preventDefault(),w("loading"),yield new Promise(r=>setTimeout(r,1e3)),w("success"),c(r=>S(x({},r),{topic:"",message:""})),i.topic.trim()){const r=[i.topic.trim(),...h.filter(k=>k!==i.topic.trim())].slice(0,5);F(r),typeof window!="undefined"&&window.localStorage.setItem(q,JSON.stringify(r))}setTimeout(()=>w(""),2500)});return p.useEffect(()=>{if(typeof window=="undefined")return;const a={name:i.name,email:i.email,contactMethod:i.contactMethod,timeline:i.timeline,shareMetrics:i.shareMetrics},r=window.setTimeout(()=>{window.localStorage.setItem(I,JSON.stringify(a))},150);return()=>window.clearTimeout(r)},[i.name,i.email,i.contactMethod,i.timeline,i.shareMetrics]),p.useEffect(()=>()=>{Object.values(b.current).forEach(a=>clearTimeout(a))},[]),p.useEffect(()=>{if(d)return;const a=i.topic.toLowerCase();a&&["integration","api","workflow","security"].some(r=>a.includes(r))&&m(!0)},[i.topic,d]),e.jsxs("main",{className:"container",style:{padding:`${o("2xl")} 0`,minHeight:"80vh"},children:[e.jsxs("header",{style:{maxWidth:"720px",margin:`0 auto ${o("xl")}`,textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"2.75rem",fontWeight:800,marginBottom:o("sm")},children:"Contact our team"}),e.jsx("p",{style:{color:"var(--gray-400)",fontSize:"1.05rem",lineHeight:1.7},children:"Tell us about your automation initiative and we'll craft a tailored success plan."})]}),e.jsx("section",{className:"glass",style:{padding:o("lg"),borderRadius:"16px"},children:e.jsxs("form",{onSubmit:H,style:{display:"grid",gap:o("fluid-sm")},children:[e.jsxs("label",{style:{display:"grid",gap:o("xs")},children:[e.jsx("span",{children:"Name"}),e.jsx("input",{type:"text",name:"name",value:i.name,onChange:f,onFocus:()=>y("name",i.name),onBlur:()=>l("name"),required:!0,style:T}),e.jsx(M,{visible:u==="name",children:v.name})]}),e.jsxs("label",{style:{display:"grid",gap:o("xs")},children:[e.jsx("span",{children:"Email"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:f,onFocus:()=>y("email",i.email),onBlur:()=>l("email"),required:!0,style:T}),e.jsx(M,{visible:u==="email",children:v.email})]}),e.jsxs("label",{style:{display:"grid",gap:o("xs")},children:[e.jsx("span",{children:"Topic"}),e.jsx("input",{type:"text",name:"topic",value:i.topic,onChange:f,onFocus:()=>y("topic",i.topic),onBlur:()=>l("topic"),placeholder:"Deployment, pricing, partnership...",style:T}),e.jsx(M,{visible:u==="topic",children:v.topic}),!!h.length&&e.jsxs("div",{style:X,children:[e.jsx("span",{style:{color:"var(--gray-400)",fontSize:"0.85rem"},children:"Recent topics:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:o("xs")},children:h.map(a=>e.jsx("button",{type:"button",onClick:()=>R(a),className:"btn",style:Z,children:a},a))})]})]}),e.jsxs("label",{style:{display:"grid",gap:o("xs")},children:[e.jsx("span",{children:"Message"}),e.jsx("textarea",{name:"message",value:i.message,onChange:f,onFocus:()=>y("message",i.message),onBlur:()=>l("message"),rows:4,style:S(x({},T),{resize:"vertical",minHeight:"140px"})}),e.jsx(M,{visible:u==="message",children:v.message})]}),e.jsxs("div",{style:{display:"grid",gap:o("xs",1.5)},children:[e.jsx("button",{type:"button",onClick:()=>m(a=>!a),className:"btn",style:{justifySelf:"flex-start",padding:`${o("xs")} ${o("xs",1.75)}`,borderRadius:"10px",background:"rgba(148, 163, 184, 0.15)",color:"var(--gray-100)"},children:d?"Hide advanced planning":"Add rollout preferences"}),d&&e.jsxs("div",{className:"glass",style:{display:"grid",gap:o("sm"),padding:o("fluid-sm"),borderRadius:"12px",background:"rgba(15, 23, 42, 0.55)"},children:[e.jsxs("label",{style:{display:"grid",gap:o("2xs",1.5)},children:[e.jsx("span",{children:"Preferred contact method"}),e.jsxs("select",{name:"contactMethod",value:i.contactMethod,onChange:f,onFocus:()=>y("contactMethod",i.contactMethod),onBlur:()=>l("contactMethod"),style:S(x({},T),{appearance:"none"}),children:[e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"video-call",children:"Video call"}),e.jsx("option",{value:"slack",children:"Shared Slack channel"})]}),e.jsx(M,{visible:u==="contactMethod",children:v.contactMethod})]}),e.jsxs("label",{style:{display:"grid",gap:o("2xs",1.5)},children:[e.jsx("span",{children:"Implementation timeline"}),e.jsxs("select",{name:"timeline",value:i.timeline,onChange:f,onFocus:()=>y("timeline",i.timeline),onBlur:()=>l("timeline"),style:S(x({},T),{appearance:"none"}),children:[e.jsx("option",{value:"immediate",children:"Ready to start this month"}),e.jsx("option",{value:"this-quarter",children:"Planning this quarter"}),e.jsx("option",{value:"next-quarter",children:"Exploring for next quarter"}),e.jsx("option",{value:"no-rush",children:"Gathering information"})]}),e.jsx(M,{visible:u==="timeline",children:v.timeline})]}),e.jsxs("label",{style:{display:"flex",gap:o("xs",1.5),alignItems:"flex-start"},children:[e.jsx("input",{type:"checkbox",name:"shareMetrics",checked:i.shareMetrics,onChange:f,onFocus:()=>y("shareMetrics",i.shareMetrics),onBlur:()=>l("shareMetrics"),style:{marginTop:o("2xs")}}),e.jsxs("span",{style:{display:"grid",gap:o("2xs")},children:[e.jsx("span",{children:"Share automation performance metrics"}),e.jsx("span",{style:{color:"var(--gray-400)",fontSize:"0.85rem",lineHeight:1.5},children:"This helps our solutions team benchmark improvements against similar deployments."}),e.jsx(M,{visible:u==="shareMetrics",children:v.shareMetrics})]})]})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j==="loading",style:{padding:`${o("xs",1.5)} ${o("fluid-sm")}`,borderRadius:"12px"},children:j==="loading"?"Sending...":"Submit"}),e.jsx("div",{"aria-live":"polite",style:{color:j==="success"?"#34d399":"var(--gray-400)"},children:j==="success"&&"Thanks! We'll reach out shortly."})]})})]})}const T={padding:`${o("xs",1.5)} ${o("sm")}`,borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.32)",background:"rgba(15, 23, 42, 0.7)",color:"var(--white)"},Q={color:"var(--gray-400)",fontSize:"0.85rem",lineHeight:1.5},X={display:"grid",gap:o("2xs",1.5)},Z={padding:`${o("2xs",1.5)} ${o("xs",1.5)}`,borderRadius:"999px",background:"rgba(99, 102, 241, 0.16)",border:"1px solid rgba(99, 102, 241, 0.35)",color:"var(--gray-050)"};function M({visible:t,children:n}){return t?e.jsx("p",{role:"status",style:Q,children:n}):null}export{re as default};
