const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DemoModal-430yKtzz.js","assets/react-vendor-bEOajVqR.js","assets/vendor-CtYYAZJ3.js","assets/three-vendor-7241h_j-.js","assets/index-CrGJeRyx.js","assets/framer-vendor-DE1cJCbf.js","assets/gsap-vendor-DSkmy12n.js","assets/index-C-yyB-sp.css"])))=>i.map(i=>d[i]);
var he=Object.defineProperty,ge=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var re=(e,o,i)=>o in e?he(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,_=(e,o)=>{for(var i in o||(o={}))ye.call(o,i)&&re(e,i,o[i]);if(ne)for(var i of ne(o))xe.call(o,i)&&re(e,i,o[i]);return e},I=(e,o)=>ge(e,fe(o));var oe=(e,o,i)=>new Promise((f,w)=>{var l=u=>{try{m(i.next(u))}catch(n){w(n)}},v=u=>{try{m(i.throw(u))}catch(n){w(n)}},m=u=>u.done?f(u.value):Promise.resolve(u.value).then(l,v);m((i=i.apply(e,o)).next())});import{r as c,j as t,_ as we}from"./react-vendor-bEOajVqR.js";import{f as ve}from"./automations-BG2MsDVw.js";import{u as be,w as je,s as E,T as ke,a as Ne,t as Se}from"./index-CrGJeRyx.js";import{F as Me,l as _e}from"./graphqlClient-CYD7TQjh.js";import"./vendor-CtYYAZJ3.js";import"./three-vendor-7241h_j-.js";import"./framer-vendor-DE1cJCbf.js";import"./gsap-vendor-DSkmy12n.js";function Ee({industry:e,focus:o,activeCombo:i}){const f=c.useMemo(()=>new Array(24).fill(null).map((l,v)=>36+Math.sin(v/2.1)*6),[]),w=c.useMemo(()=>{const l=e?`${e} teams`:"Teams like yours",v=o?o.toLowerCase():"automation";return{deployments:"No deployments yet — launch your first automation to start the feed.",savings:`${l} will see real savings here once telemetry goes live.`,wins:"Customer wins will appear as soon as outcomes start rolling in.",combo:i?`The ${i.title} stack is ready with ${i.items.join(", ")}.`:`Preview ${v} automations now and telemetry activates automatically.`}},[e,o,i]);return t.jsxs("section",{className:"living-metrics glass-card","aria-live":"polite",children:[t.jsxs("header",{children:[t.jsx("span",{children:"Marketplace telemetry"}),t.jsx("h3",{children:"Success metrics go live after your first deployment"})]}),t.jsxs("div",{className:"living-metrics__grid",children:[t.jsxs("article",{className:"living-metrics__card glass-card glass-card--subtle",children:[t.jsx("strong",{children:w.deployments}),t.jsx("p",{children:"Telemetry is idle until an automation is deployed."})]}),t.jsxs("article",{className:"living-metrics__card glass-card glass-card--subtle",children:[t.jsx("strong",{children:w.savings}),t.jsx("p",{children:"Financial impact tracking boots up alongside your first workflow."}),t.jsx("div",{className:"living-metrics__sparkline","aria-hidden":"true",children:t.jsx("svg",{viewBox:"0 0 240 72",preserveAspectRatio:"none",children:t.jsx("polyline",{points:f.map((l,v)=>`${v*10},${72-l}`).join(" ")})})})]}),t.jsxs("article",{className:"living-metrics__card glass-card glass-card--subtle",children:[t.jsx("strong",{children:"Competitor data activates later"}),t.jsx("p",{children:"Comparative insights appear once verified customers are running this automation."})]}),t.jsxs("article",{className:"living-metrics__card glass-card glass-card--subtle",children:[t.jsx("strong",{children:w.wins}),t.jsx("p",{children:"Keep an eye here — live outcomes stream in the moment customers go live."})]}),t.jsxs("article",{className:"living-metrics__highlight glass-card",children:[t.jsx("strong",{children:w.combo}),t.jsx("p",{children:"Plan your rollout today so these cards show the story you want to tell."})]})]})]})}const ie=["#34d399","#60a5fa","#f472b6","#facc15","#c084fc"];function Ae(){return Math.random().toString(36).slice(2,8)}function ce(e){const o=Math.abs(e.charCodeAt(0)+e.charCodeAt(e.length-1))%ie.length;return ie[o]}function Ie({focus:e,onVote:o,channel:i,sessionId:f}){const[w,l]=c.useState([]),[v,m]=c.useState([]),u=c.useRef(null),n=c.useMemo(()=>f||Ae(),[f]);c.useEffect(()=>{if(typeof window=="undefined")return()=>{};if(!(typeof BroadcastChannel!="undefined")&&!i)return()=>{};const x=i!=null?i:new BroadcastChannel("marketplace-collaboration");u.current=x;const j=()=>{var M;(M=u.current)==null||M.postMessage({type:"join",sessionId:n,focus:e})},L=setInterval(j,4e3);j();const b=M=>{const g=M.data;g&&g.sessionId!==n&&(g.type==="join"&&l(C=>C.some(S=>S.id===g.sessionId)?C.map(S=>S.id===g.sessionId?I(_({},S),{focus:g.focus,lastSeen:Date.now()}):S):[...C,{id:g.sessionId,color:ce(g.sessionId),focus:g.focus,lastSeen:Date.now(),x:120+Math.random()*160,y:120+Math.random()*120,votes:0}]),g.type==="cursor"&&l(C=>C.map(S=>S.id===g.sessionId?I(_({},S),{x:g.x,y:g.y,lastSeen:Date.now()}):S)),g.type==="discovery"&&m(C=>[...C.slice(-8),{id:`${g.sessionId}-${Date.now()}`,author:g.author,text:g.text,color:ce(g.sessionId),votes:g.votes||0}]),g.type==="vote"&&o&&o(g))};return x.addEventListener("message",b),()=>{clearInterval(L),x.removeEventListener("message",b),i||x.close()}},[i,e,o,n]),c.useEffect(()=>{if(typeof window=="undefined")return()=>{};if(!u.current&&typeof BroadcastChannel=="undefined")return()=>{};const p=x=>{var j;(j=u.current)==null||j.postMessage({type:"cursor",sessionId:n,x:x.clientX,y:x.clientY})};return window.addEventListener("pointermove",p,{passive:!0}),()=>window.removeEventListener("pointermove",p)},[n]),c.useEffect(()=>{const p=setInterval(()=>{l(x=>x.filter(j=>Date.now()-j.lastSeen<6e3))},5e3);return()=>clearInterval(p)},[]);const h=p=>{var x;(x=u.current)==null||x.postMessage({type:"discovery",sessionId:n,author:`Teammate ${n.slice(0,2).toUpperCase()}`,text:p,votes:Math.round(Math.random()*5)})};return c.useEffect(()=>{e&&h(`Spotlight on ${e}. Should we shortlist it?`)},[e]),t.jsxs("div",{className:"marketplace-collaboration","aria-hidden":"true",children:[w.map(p=>t.jsx("div",{className:"marketplace-collaboration__cursor",style:{transform:`translate(${p.x}px, ${p.y}px)`,borderColor:p.color},children:t.jsx("span",{style:{backgroundColor:p.color},children:p.focus||"Exploring"})},p.id)),t.jsx("div",{className:"marketplace-collaboration__discussion",children:v.map(p=>t.jsxs("div",{style:{borderColor:p.color},children:[t.jsx("strong",{children:p.author}),t.jsx("p",{children:p.text}),t.jsxs("span",{children:[p.votes," votes"]})]},p.id))})]})}const Ce={position:"fixed",inset:0,display:"grid",placeItems:"center",backgroundColor:"rgba(15, 23, 42, 0.72)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",zIndex:60},Re={width:"min(100%, 720px)",minHeight:"480px",borderRadius:"1.5rem",border:"1px solid rgba(148, 163, 184, 0.35)",background:"linear-gradient(145deg, rgba(15, 23, 42, 0.82) 0%, rgba(30, 41, 59, 0.9) 60%, rgba(15, 23, 42, 0.92) 100%)",padding:"clamp(1.5rem, 2.5vw, 2.5rem)",display:"grid",gap:"1rem",position:"relative",overflow:"hidden"},Te={position:"absolute",inset:0,background:"linear-gradient(135deg, rgba(148, 163, 184, 0.05) 0%, rgba(148, 163, 184, 0.18) 45%, rgba(148, 163, 184, 0.05) 100%)",opacity:.35,animation:"skeletonShimmer 1.6s ease-in-out infinite"},z=(e,o)=>({width:e,height:o,borderRadius:"999px",backgroundColor:"rgba(148, 163, 184, 0.16)",position:"relative",overflow:"hidden"}),Y={display:"grid",gap:"0.75rem"};function Oe({label:e="Loading",height:o=480}){return t.jsx("div",{style:Ce,role:"presentation",children:t.jsxs("div",{style:I(_({},Re),{minHeight:`${o}px`}),role:"status","aria-live":"polite",children:[t.jsx("span",{className:"sr-only",children:e}),t.jsx("div",{style:Te,"aria-hidden":!0}),t.jsxs("div",{style:Y,children:[t.jsx("div",{style:z("60%","2.8rem"),"aria-hidden":!0}),t.jsx("div",{style:z("72%","1rem"),"aria-hidden":!0})]}),t.jsx("div",{style:I(_({},Y),{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"}),children:["68%","88%","54%","72%"].map(i=>t.jsx("div",{style:I(_({},z(i,"1.25rem")),{minHeight:"1.25rem"}),"aria-hidden":!0},i))}),t.jsxs("div",{style:I(_({},Y),{marginTop:"auto"}),children:[t.jsx("div",{style:z("100%","8rem"),"aria-hidden":!0}),t.jsx("div",{style:z("78%","1.25rem"),"aria-hidden":!0})]})]})})}const Le=c.lazy(()=>we(()=>import("./DemoModal-430yKtzz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),De="automation-browsing-signals",K="automation-attention-scores",Fe=32,$e=.94,Pe=18,Be=[{title:"Entry Experience",icon:"🚪",steps:["Marketplace welcome adapts to your company profile in one glance","Live ROI summary highlights the outcomes your team cares about","Clean layout keeps the focus on evaluating automations, not fighting UI","Quick links surface documentation, pricing, and support right away"]},{title:"Browse & Evaluate",icon:"🧭",steps:["Clusters group automations by outcome so you scan less","Match strength indicators compare every option instantly","Preview modals launch without taking you away from the grid","Saved browsing signals nudge relevant categories back to the top"]},{title:"Deep Dive Preview",icon:"🔍",steps:["Interactive previews stream sample data based on your needs","Feature highlights explain how the automation actually works","Deployment actions stay one click away with clear CTAs","Telemetry hints show which metrics will populate once live"]},{title:"Team Collaboration",icon:"🤝",steps:["Shared cursors broadcast teammate focus in real time","Lightweight discussion feed captures quick takeaways","Signals sync so everyone evaluates the same prioritized layout","Optional demos help stakeholders experience the automation together"]}];function ze(){if(typeof window=="undefined")return{};try{const e=window.localStorage.getItem(K);if(!e)return{};const o=JSON.parse(e);if(!o||typeof o!="object")return{};const i=Date.now(),f={};return Object.entries(o).forEach(([w,l])=>{if(!w||!l||typeof l!="object")return;const v=Number(l.score)||0,m=Number(l.interactions)||0,u=Number(l.lastViewed)||0;if(v<=0&&m<=0)return;const h=(u?Math.max(0,(i-u)/6e4):0)/Pe,p=h?Math.pow($e,h):1,x=Math.max(0,v*p);x<=.01&&m<=0||(f[w]={score:x,interactions:m,lastViewed:u})}),f}catch(e){return console.warn("Failed to parse attention scores",e),{}}}function We(e=[],o=[],i){const f=[],w=new Map,l=[];e.forEach(n=>{if(!n||typeof n!="object")return;const h=Number(n==null?void 0:n.roi);Number.isFinite(h)&&f.push(h);const p=(n==null?void 0:n.category)||(n==null?void 0:n.vertical)||"General",x=w.get(p)||{count:0,roi:0};x.count+=1,Number.isFinite(h)&&(x.roi+=h),w.set(p,x);const j=Array.isArray(n==null?void 0:n.tags)?n.tags:[],L=o.filter(b=>{const M=String(b||"").toLowerCase();return M&&(String(p).toLowerCase().includes(M)||j.some(g=>String(g).toLowerCase().includes(M)))});L.length>=2&&l.push({id:n.id,name:n.name,overlap:L,roi:Number.isFinite(h)?h:0})});const v=f.length>0?f.reduce((n,h)=>n+h,0)/f.length:null,m=Array.from(w.entries()).map(([n,{count:h,roi:p}])=>({category:n,count:h,roiAverage:h>0?p/h:0})).sort((n,h)=>h.roiAverage===n.roiAverage?h.count-n.count:h.roiAverage-n.roiAverage)[0]||null,u=l.map(n=>I(_({},n),{score:n.roi+n.overlap.length*1.75+(i?2.5:0)})).sort((n,h)=>h.score-n.score).slice(0,3);return{averageROI:v,topCategory:m,combo:u}}const He=[{keywords:["health","med","pharma","clinic"],industry:"Healthcare"},{keywords:["fin","bank","capital","credit"],industry:"Financial Services"},{keywords:["retail","commerce","shop","store"],industry:"Ecommerce"},{keywords:["edu","school","academy","college"],industry:"Education"},{keywords:["logistics","supply","shipping","freight"],industry:"Logistics"},{keywords:["manufact","factory","industrial"],industry:"Manufacturing"},{keywords:["travel","hospitality","hotel"],industry:"Hospitality"},{keywords:["media","marketing","agency"],industry:"Media & Marketing"},{keywords:["gov","public","civic"],industry:"Public Sector"},{keywords:["tech","cloud","software","saas"],industry:"Software"}];function N(e){return(e||"").toString().toLowerCase()}function R(e=""){return e.toString().replace(/[_-]/g," ").split(" ").filter(Boolean).map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" ")}function Ve(e=""){const[,o]=String(e).split("@");return o?o.toLowerCase():""}function Ue(e,o){const i=Ve(e);if(!i)return o||null;const f=i.replace(/^www\./,""),l=f.split(".").slice(0,-1).join(".")||f;for(const v of He)if(v.keywords.some(m=>l.includes(m)))return v.industry;return o||null}function G(e,o){if(!o)return!1;const i=N(o);return[e==null?void 0:e.category,e==null?void 0:e.vertical,...(e==null?void 0:e.tags)||[]].filter(Boolean).some(w=>N(w).includes(i))}function qe(e,o){const i=[],f=m=>{if(!m)return;const u=R(m);i.some(h=>N(h)===N(u))||i.push(u)};if(e!=null&&e.industry&&f(`${e.industry}`),e!=null&&e.department&&f(`${e.department} workflows`),e!=null&&e.role&&f(`${e.role} enablement`),e!=null&&e.teamSize){const m=Number(e.teamSize);Number.isNaN(m)||(m>500?f("Enterprise scale"):m>120?f("Team productivity"):f("Startup velocity"))}(Array.isArray(e==null?void 0:e.painPoints)?e==null?void 0:e.painPoints:typeof(e==null?void 0:e.painPoints)=="string"?e.painPoints.split(/,|;/):[]).forEach(m=>f(m));const l=new Map;return(o||[]).forEach(m=>{((m==null?void 0:m.tags)||[]).forEach(u=>{const n=N(u);n&&l.set(n,(l.get(n)||0)+1)})}),Array.from(l.entries()).sort((m,u)=>u[1]-m[1]).map(([m])=>R(m)).forEach(m=>f(m)),i.slice(0,4)}function Ye(e,o,i,f,w){const l=((e==null?void 0:e.tags)||[]).map(n=>N(n)),v=N(e==null?void 0:e.description),m=N((e==null?void 0:e.category)||(e==null?void 0:e.vertical));let u=1;if(i){const n=N(i);l.some(h=>h.includes(n))&&(u+=7),m.includes(n)&&(u+=5),v.includes(n)&&(u+=4)}return o.forEach((n,h)=>{const p=N(n),x=o.length-h;l.some(j=>j.includes(p))&&(u+=x*1.5),v.includes(p)&&(u+=x)}),typeof(e==null?void 0:e.roi)=="number"&&(u+=e.roi),typeof(e==null?void 0:e.popularity)=="number"&&(u+=e.popularity*.5),w&&G(e,w)&&(u+=6),(f||[]).forEach((n,h)=>{const p=N(n.label),x=n.weight||Math.max(1,(f.length-h)*.9);l.some(j=>j.includes(p))&&(u+=x*1.4),v.includes(p)&&(u+=x),m.includes(p)&&(u+=x*1.1)}),u}function nt({user:e,openAuth:o}){var ae;const{darkMode:i}=be(),[f,w]=c.useState(null),[l,v]=c.useState([]),[m,u]=c.useState(!0),[n,h]=c.useState(null),[p,x]=c.useState(null),[j,L]=c.useState([]),[b,M]=c.useState(null),[g,C]=c.useState(null),[S,le]=c.useState([]),[T,J]=c.useState({averageROI:null,topCategory:null,combo:[]}),[D,Q]=c.useState(()=>ze()),de=c.useRef(new Map),F=c.useRef(null),$=c.useRef(null),H=c.useRef(null),[ue,X]=c.useState(!1),Z=c.useMemo(()=>`mp-${Math.random().toString(36).slice(2,8)}`,[]),[V,me]=c.useState(()=>{var s;const a=(s=Me)==null?void 0:s.averageROI;return Number.isFinite(Number(a))?Number(a):null});c.useEffect(()=>{let a=!0;const s=typeof AbortController!="undefined"?new AbortController:null;return _e({signal:s==null?void 0:s.signal}).then(d=>{if(!a)return;const r=Number(d==null?void 0:d.averageROI);Number.isFinite(r)&&me(r)}).catch(d=>{var r;(r=s==null?void 0:s.signal)!=null&&r.aborted}),()=>{var d;a=!1,(d=s==null?void 0:s.abort)==null||d.call(s)}},[]),c.useEffect(()=>()=>{F.current&&typeof window!="undefined"&&window.cancelAnimationFrame&&window.cancelAnimationFrame(F.current)},[]),c.useEffect(()=>{if(typeof window!="undefined")try{const a=Object.entries(D||{});if(!a.length){window.localStorage.removeItem(K);return}const s=a.sort((d,r)=>{var y,k;return(((y=r[1])==null?void 0:y.score)||0)-(((k=d[1])==null?void 0:k.score)||0)}).slice(0,Fe).reduce((d,[r,y])=>(!r||!y||(d[r]={score:Number(y.score)||0,interactions:Number(y.interactions)||0,lastViewed:Number(y.lastViewed)||Date.now()}),d),{});window.localStorage.setItem(K,JSON.stringify(s))}catch(a){console.warn("Failed to persist attention scores",a)}},[D]),c.useEffect(()=>{V!=null&&x(a=>{const s=Number(V.toFixed(2));return typeof a=="number"&&Math.abs(a-s)<.005?a:s})},[V]),c.useEffect(()=>{je(),oe(this,null,function*(){try{u(!0),h(null);const s=yield ve();if(!Array.isArray(s))throw new Error("Invalid data format received");v(s);const d=s.map(r=>r==null?void 0:r.roi).filter(r=>typeof r=="number"&&Number.isFinite(r)).map(r=>Math.round(r*100));d.length&&Ne(d).then(r=>x(Number((r/100).toFixed(2)))).catch(r=>console.warn("Failed to compute ROI average",r))}catch(s){console.error("Error loading automations:",s),v([]),h(s),Se((s==null?void 0:s.message)||"Failed to load automations",{type:"error"})}finally{u(!1)}})},[]);const ee=c.useCallback((a,s)=>{if(!a||typeof s!="number"||Number.isNaN(s)||s<=0||typeof window=="undefined")return;const d=de.current,r=s/1e3;if(d.set(a,(d.get(a)||0)+r),!(F.current&&window.requestAnimationFrame)){if(!window.requestAnimationFrame){Q(y=>{const k=_({},y||{}),A=k[a]||{score:0,interactions:0};return k[a]={score:Math.max(0,A.score*.985+r),interactions:(A.interactions||0)+1,lastViewed:Date.now()},k}),d.delete(a);return}F.current=window.requestAnimationFrame(()=>{F.current=null;const y=new Map(d);d.clear();const k=Date.now();Q(A=>{const P=_({},A||{});return y.forEach((B,W)=>{const se=P[W]||{score:0,interactions:0};P[W]={score:Math.max(0,(se.score||0)*.985+B),interactions:(se.interactions||0)+1,lastViewed:k}}),P})})}},[]);c.useCallback((a,s)=>{ee(a,s)},[ee]),c.useEffect(()=>{if(!(typeof window=="undefined"||typeof Worker=="undefined"))try{const a=new Worker(new URL("/assets/roiWorker-ZkTqvfMx.js",import.meta.url),{type:"module"});$.current=a;const s=d=>{var r;((r=d.data)==null?void 0:r.type)==="metrics"&&J({averageROI:d.data.averageROI,topCategory:d.data.topCategory,combo:d.data.combo||[]})};return a.addEventListener("message",s),()=>{a.removeEventListener("message",s),a.terminate(),$.current=null}}catch(a){console.warn("ROI worker unavailable",a),$.current=null;return}},[]),c.useEffect(()=>{const a=e!=null&&e.industry?R(e.industry):null,s=Ue((e==null?void 0:e.businessEmail)||(e==null?void 0:e.email)||"",a);C(s)},[e]),c.useEffect(()=>{if(typeof window!="undefined")try{const a=window.localStorage.getItem(De);if(!a)return;const s=JSON.parse(a);if(!s||typeof s!="object")return;const d=Object.values(s).filter(r=>r&&r.label).sort((r,y)=>y.count===r.count?(y.lastSeen||0)-(r.lastSeen||0):y.count-r.count).slice(0,6).map((r,y)=>I(_({},r),{weight:Math.max(1,5-y)+Math.min(r.count,5)*.3}));le(d)}catch(a){console.warn("Failed to load browsing signals",a)}},[]),c.useEffect(()=>{if(!l.length){L([]),M(null);return}const a=qe(e,l);if(L(a),!a.length){M(null);return}M(s=>s&&a.some(d=>N(d)===N(s))?s:a[0])},[l,e]),c.useEffect(()=>{!g||!j.length||M(a=>a||j.find(d=>N(d).includes(N(g)))||a)},[g,j]),c.useEffect(()=>{if(!l.length)return;const a=[...j,...(S||[]).map(s=>s.label).filter(Boolean)];if($.current){$.current.postMessage({automations:l,signals:a,focus:b});return}J(We(l,a,b))},[l,j,S,b]),c.useEffect(()=>{if(typeof window=="undefined"||typeof BroadcastChannel=="undefined")return;const a=new BroadcastChannel("marketplace-collaboration");H.current=a,X(!0);const s=()=>{};return a.addEventListener("message",s),()=>{a.removeEventListener("message",s),a.close(),H.current=null,X(!1)}},[Z]);const U=c.useMemo(()=>{if(!l.length)return[];const a=Date.now(),s=l.map(r=>{const y=Ye(r,j,b,S,g),k=D==null?void 0:D[r.id];let A=0;if(k){const B=k.lastViewed?Math.max(0,(a-k.lastViewed)/6e4):0,W=Math.max(0,1.35-B/8);A+=Math.min(k.score||0,12)*1.6,A+=Math.min(k.interactions||0,6)*.3,A+=W}const P=y+A;return{item:r,score:P,baseScore:y,attentionBonus:A,attentionScore:(k==null?void 0:k.score)||0,industryMatch:G(r,g),browsingMatch:(S||[]).some(B=>G(r,B.label))}}),d=s.reduce((r,y)=>Math.max(r,y.score),1);return s.map(r=>I(_({},r),{matchStrength:d?r.score/d:0})).sort((r,y)=>y.score-r.score)},[l,j,b,S,g,D]),te=c.useMemo(()=>new Map(l.map(a=>[a.id,a])),[l]),pe=c.useMemo(()=>{if(!U.length)return null;const a=U.slice(0,3);return{title:b?`${R(b)} standouts`:"Top matching automations",description:b?`Automations that excel for ${R(b)} teams right now.`:"High-performing automations based on your live signals.",items:a.map(({item:d})=>d.name)}},[U,b]),O=c.useMemo(()=>{var r,y;if(!((r=T.combo)!=null&&r.length))return null;const[a]=T.combo,s=te.get(a.id),d=(a==null?void 0:a.name)||(s==null?void 0:s.name)||"High-impact automation stack";return{title:d,description:(y=a==null?void 0:a.overlap)!=null&&y.length?`Signals in common: ${a.overlap.join(", ")}`:"This stack surges ahead for teams matching your signals.",items:[d,...((a==null?void 0:a.overlap)||[]).slice(0,2)],roi:a==null?void 0:a.roi}},[T.combo,te])||pe,q=t.jsxs("div",{className:"section-header","data-animate":"fade-up","data-animate-context":"story",style:{display:"flex",flexDirection:"column",gap:E("sm")},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:E("sm"),flexWrap:"wrap"},children:[t.jsxs("div",{className:"marketplace-entry__intro","data-animate":"fade-up","data-animate-order":"1",children:[t.jsxs("h2",{style:{fontSize:"2.4rem",fontWeight:800},children:["Marketplace built for ",g||"teams like yours"]}),t.jsx("p",{style:{color:i?"#94a3b8":"#475569"},children:"Discover automations with narrative previews and instant calls-to-action so evaluating fit feels more like a guided tour than a scavenger hunt."}),t.jsxs("div",{className:"marketplace-entry__meta glass-card glass-card--subtle","data-animate":"fade-up","data-animate-order":"2","data-animate-cascade":"0.08","data-animate-context":"dashboard",children:[t.jsxs("div",{children:[t.jsx("span",{children:"Top live match"}),t.jsx("strong",{children:((ae=T.topCategory)==null?void 0:ae.category)||"Adaptive orchestration"})]}),t.jsxs("div",{children:[t.jsx("span",{children:"Spotlight stack"}),t.jsx("strong",{children:(O==null?void 0:O.title)||"Scanning"})]}),t.jsxs("div",{children:[t.jsx("span",{children:"Active combination ROI"}),t.jsx("strong",{children:O!=null&&O.roi?`${Number(O.roi).toFixed(2)}x`:T.averageROI?`${T.averageROI.toFixed(2)}x`:"Modeling"})]})]})]}),t.jsx("div",{"data-animate":"scale-in","data-animate-order":"3","data-animate-context":"panel",children:t.jsx(ke,{})})]}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:E("xs",1.5)},"data-animate":"fade-up","data-animate-order":"4","data-animate-cascade":"0.05",children:["Psychic glow predictions","Canvas ecosystem map","Collaborative decisions",T.averageROI?`Live ROI ${T.averageROI.toFixed(2)}x`:null,g?`${g} focus`:null].filter(Boolean).map(a=>t.jsx("span",{className:"marketplace-entry__tag glass-pill",children:a},a))}),t.jsxs("div",{className:"marketplace-journey","aria-label":"Marketplace journey highlights","data-animate":"fade-up","data-animate-order":"5","data-animate-context":"story",children:[t.jsxs("header",{"data-animate":"fade-up","data-animate-order":"0",children:[t.jsx("span",{className:"marketplace-journey__eyebrow",children:"🎯 Marketplace Playbook"}),t.jsx("p",{children:"See how each phase of the marketplace keeps momentum from hello to handoff."})]}),t.jsx("div",{className:"marketplace-journey__grid",children:Be.map(({title:a,icon:s,steps:d},r)=>t.jsxs("article",{className:"marketplace-journey__card glass-card glass-card--subtle","data-animate":"scale-in","data-animate-context":"panel","data-animate-order":r+1,"data-animate-cascade":"0.08",children:[t.jsxs("div",{className:"marketplace-journey__card-header",children:[t.jsx("span",{"aria-hidden":"true",className:"marketplace-journey__icon glass-pill",children:s}),t.jsx("h4",{children:a})]}),t.jsx("ol",{children:d.map(y=>t.jsx("li",{children:y},y))})]},a))})]}),j.length>0&&t.jsxs("div",{className:"marketplace-needs",role:"group","aria-label":"Dynamic automation filters","data-animate":"fade-up","data-animate-order":"6",children:[t.jsxs("div",{className:"marketplace-needs__meta glass-card glass-card--subtle","data-animate":"fade-up","data-animate-order":"0",children:[t.jsx("span",{children:"We think you're optimizing for"}),t.jsx("strong",{children:b?R(b):"blended impact"})]}),t.jsx("div",{className:"marketplace-needs__chips","data-animate":"fade-up","data-animate-order":"1","data-animate-cascade":"0.05",children:j.map(a=>{const s=N(a)===N(b);return t.jsxs("button",{type:"button",className:"marketplace-needs__chip glass-pill","data-active":s,onClick:()=>M(a),children:[t.jsx("span",{children:a}),t.jsx("span",{className:"marketplace-needs__glow","aria-hidden":"true"})]},a)})}),t.jsx("p",{className:"marketplace-needs__hint",children:"Automations reorganize themselves in real-time based on the signal you select."})]})]});return m?t.jsx("section",{className:"marketplace","data-glass":"true","data-animate-root":!0,style:{padding:`${E("3xl")} 0`},children:t.jsxs("div",{className:"container",style:{display:"grid",gap:E("lg")},children:[q,t.jsxs("div",{className:"marketplace-placeholder glass-card glass-card--subtle",children:[t.jsx("div",{className:"loading",style:{width:"40px",height:"40px",margin:"0 auto"}}),t.jsx("p",{className:"marketplace-placeholder__text",children:"Loading automations…"})]})]})}):n&&l.length===0?t.jsx("section",{className:"marketplace","data-glass":"true","data-animate-root":!0,style:{padding:`${E("3xl")} 0`},children:t.jsxs("div",{className:"container",style:{display:"grid",gap:E("lg")},children:[q,t.jsxs("div",{className:"marketplace-error glass-card glass-card--danger",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:E("sm")},children:"⚠️"}),t.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:E("xs")},children:"Unable to Load Marketplace"}),t.jsx("p",{className:"marketplace-error__description",children:"We're having trouble loading the automation marketplace. Please check your connection and try again."}),t.jsx("button",{className:"btn btn-primary","data-ripple":"true",onClick:()=>window.location.reload(),children:"Retry"})]})]})}):t.jsxs("section",{className:"marketplace","data-glass":"true","data-animate-root":!0,style:{padding:`${E("3xl")} 0`},children:[t.jsxs("div",{className:"container",style:{display:"grid",gap:E("lg",1.25)},children:[q,ue&&t.jsx("div",{"data-animate":"blur-up","data-animate-context":"story","data-animate-order":"2",children:t.jsx(Ie,{focus:b?R(b):null,channel:H.current,sessionId:Z})}),t.jsx("div",{"data-animate":"scale-in","data-animate-context":"dashboard","data-animate-order":"3",children:t.jsx(Ee,{industry:g,focus:b?R(b):null,activeCombo:O})}),n&&l.length>0&&t.jsx("div",{role:"alert","data-animate":"fade-up","data-animate-order":"4",className:"marketplace-alert glass-card glass-card--warning",children:"Some automations may not be displayed due to a connection issue."}),t.jsx("div",{className:"marketplace-detected-message","data-animate":"fade-up","data-animate-order":"7",children:b?t.jsxs("span",{children:[t.jsx("strong",{children:R(b)})," automations surge to the front based on live signals."]}):t.jsx("span",{children:"Automations adapt in real time to match your browsing signals."})})]}),f&&t.jsx(c.Suspense,{fallback:t.jsx(Oe,{label:"Preparing automation preview"}),children:t.jsx(Le,{automation:f,user:e,onClose:()=>w(null)})})]})}export{nt as default};
