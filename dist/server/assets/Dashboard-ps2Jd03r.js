var Se=Object.defineProperty,$e=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var ge=(a,c,e)=>c in a?Se(a,c,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[c]=e,T=(a,c)=>{for(var e in c||(c={}))Ce.call(c,e)&&ge(a,e,c[e]);if(ce)for(var e of ce(c))Re.call(c,e)&&ge(a,e,c[e]);return a},Y=(a,c)=>$e(a,Me(c));var ue=(a,c,e)=>new Promise((u,v)=>{var x=b=>{try{o(e.next(b))}catch(g){v(g)}},k=b=>{try{o(e.throw(b))}catch(g){v(g)}},o=b=>b.done?u(b.value):Promise.resolve(b.value).then(x,k);o((e=e.apply(a,c)).next())});import{jsxs as n,jsx as r,Fragment as pe}from"react/jsx-runtime";import{useState as L,useMemo as w,useEffect as W,useCallback as J}from"react";import{useNavigate as ze}from"react-router-dom";import{u as be,s as i,t as ee,T as De,a as Ae,p as Te}from"./entry-server-CsfnY5-Y.js";import{createPortal as Le}from"react-dom";import"react-dom/server";import"react-router-dom/server.mjs";import"stream";import"framer-motion";import"axios";import"gsap";import"gsap/ScrollTrigger.js";const We=(a,c,e)=>Math.min(Math.max(a,c),e),he=(a,c,e)=>typeof window=="undefined"||!e||!c?!1:window.localStorage.getItem(a)!=="dismissed",Ie=[],Ee=(a,c,e)=>{const[u,v]=L(null);return W(()=>{if(!e)return;const x=a[c];if(!(x!=null&&x.target)||typeof window=="undefined"){v(null);return}const k=()=>{const b=document.querySelector(`[data-tour-id="${x.target}"]`);if(!b){v(null);return}const g=b.getBoundingClientRect(),f=window.innerHeight,$=window.innerWidth,y=window.scrollY,D=window.scrollX,A=g.top+y,z=g.left+D,N=g.width,I=g.height,S=g.bottom+240>f&&A>240,F=S?Math.max(y+40,A-210):A+I+16,V=z+N/2,X=We(V,D+160,D+$-160);v({tooltipTop:F,tooltipLeft:X,highlightTop:A,highlightLeft:z,highlightWidth:N,highlightHeight:I,placeAbove:S})};k();const o=()=>k();return window.addEventListener("resize",o),window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0)}},[a,c,e]),u},Ne=({steps:a=Ie,storageKey:c="artifically:dashboard:onboarding",isActive:e=!0})=>{const{darkMode:u}=be(),[v,x]=L(0),k=a.length>0,[o,b]=L(()=>he(c,e,k)),g=Ee(a,v,o),f=a.length,$=a[v],y=w(()=>u?"rgba(15,23,42,0.97)":"rgba(255,255,255,0.98)",[u]),D=(S=!0)=>{b(!1),S&&typeof window!="undefined"&&window.localStorage.setItem(c,"dismissed")},A=()=>D(!0),z=()=>{v<f-1?x(S=>S+1):D(!0)},N=()=>D(!0);if(W(()=>{if(!k||!e){b(!1);return}if(!o){const S=he(c,e,k);b(S)}},[k,e,c,o]),W(()=>{if(!o||typeof window=="undefined")return;const S=F=>{F.key==="Escape"&&A()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[o,A]),!o||!k||typeof document=="undefined")return null;const I=g?{top:g.tooltipTop,left:g.tooltipLeft,transform:"translate(-50%, 0)"}:{bottom:32,right:32};return Le(n("div",{style:{position:"fixed",inset:0,zIndex:1300,pointerEvents:"none"},children:[r("div",{style:{position:"absolute",inset:0,background:u?"rgba(2,6,23,0.65)":"rgba(15,23,42,0.45)",backdropFilter:"blur(2px)"}}),g&&r("div",{style:{position:"absolute",top:g.highlightTop-8,left:g.highlightLeft-8,width:g.highlightWidth+16,height:g.highlightHeight+16,borderRadius:"1.25rem",border:"2px solid rgba(99,102,241,0.9)",boxShadow:"0 0 0 9999px rgba(15,23,42,0.35)",pointerEvents:"none",transition:"all 0.2s ease"}}),n("div",{style:T({position:"absolute",pointerEvents:"auto",maxWidth:"320px",width:"clamp(260px, 40vw, 320px)",background:y,color:u?"#e2e8f0":"#1f2937",borderRadius:"1.25rem",padding:i("md"),boxShadow:u?"0 24px 45px rgba(8, 15, 34, 0.55)":"0 24px 45px rgba(148, 163, 184, 0.45)",border:u?"1px solid rgba(99,102,241,0.35)":"1px solid rgba(99,102,241,0.25)"},I),children:[n("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:i("xs")},children:[n("span",{style:{fontSize:"0.8rem",fontWeight:600,color:u?"#a5b4fc":"#4338ca"},children:["Step ",v+1," of ",f]}),r("button",{type:"button",onClick:N,style:{appearance:"none",border:"none",background:"none",color:u?"#94a3b8":"#475569",fontSize:"0.8rem",cursor:"pointer",fontWeight:600},children:"Skip"})]}),r("h3",{style:{margin:0,fontSize:"1.15rem",fontWeight:700},children:$==null?void 0:$.title}),r("p",{style:{margin:`${i("xs",1.5)} 0`,fontSize:"0.9rem",lineHeight:1.5},children:$==null?void 0:$.description}),n("div",{style:{display:"flex",justifyContent:"flex-end",gap:i("xs",1.5),marginTop:i("sm")},children:[r("button",{type:"button",onClick:A,style:{appearance:"none",border:"none",background:u?"rgba(148,163,184,0.18)":"rgba(148,163,184,0.2)",color:u?"#e2e8f0":"#1f2937",borderRadius:"0.85rem",padding:`${i("xs",1.2)} ${i("fluid-sm")}`,fontWeight:600,cursor:"pointer"},children:"Dismiss"}),r("button",{type:"button",onClick:z,style:{appearance:"none",border:"none",background:"linear-gradient(120deg, #6366f1, #22d3ee)",color:"#0f172a",borderRadius:"0.85rem",padding:`${i("xs",1.2)} ${i("md")}`,fontWeight:700,cursor:"pointer",boxShadow:u?"0 16px 28px rgba(99, 102, 241, 0.35)":"0 16px 28px rgba(99, 102, 241, 0.25)"},children:v===f-1?"Finish":"Next"})]})]}),g&&r("div",{style:{position:"absolute",top:g.placeAbove?g.highlightTop-12:g.highlightTop+g.highlightHeight+4,left:g.tooltipLeft,transform:"translate(-50%, 0)",width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:g.placeAbove?"10px solid transparent":`10px solid ${y}`,borderBottom:g.placeAbove?`10px solid ${y}`:"10px solid transparent",pointerEvents:"none"}})]}),document.body)},G={firstDemo:{id:"firstDemo",title:"First Automation Demo",description:"Deploy your first automation or request a live demo.",reward:"Early Adopter Badge"},fiveAutomations:{id:"fiveAutomations",title:"Automation Architect",description:"Maintain five active automations across your organization.",reward:"Automation Architect Emblem"},weekStreak:{id:"weekStreak",title:"Consistency Champion",description:"Log in seven days in a row to review performance.",reward:"10% Discount"}},H=Object.fromEntries(Object.keys(G).map(a=>[a,Y(T({},G[a]),{unlocked:!1,unlockedAt:null})])),fe="artifically:achievements",je=()=>{if(typeof window=="undefined")return H;try{const a=window.localStorage.getItem(fe);if(!a)return H;const c=JSON.parse(a);return T(T({},H),Object.fromEntries(Object.entries(c).map(([e,u])=>[e,T(T({},H[e]),u)])))}catch(a){return console.warn("Failed to parse stored achievements",a),H}},Be=({deploymentsCount:a=0,streak:c=0}={})=>{const[e,u]=L(je);W(()=>{typeof window!="undefined"&&window.localStorage.setItem(fe,JSON.stringify(e))},[e]),W(()=>{if(typeof window=="undefined")return;const o=[];u(b=>{let g=!1;const f=T({},b),$=y=>{const D=H[y]||G[y]||{id:y,title:y,description:"",reward:""};if(!f[y]){f[y]=Y(T({},D),{unlocked:!0,unlockedAt:Date.now()}),g=!0,o.push(y);return}f[y].unlocked||(f[y]=Y(T(T({},D),f[y]),{unlocked:!0,unlockedAt:Date.now()}),g=!0,o.push(y))};return a>0&&$("firstDemo"),a>=5&&$("fiveAutomations"),c>=7&&$("weekStreak"),g?f:b}),o.length&&o.forEach((b,g)=>{const f=G[b];f&&setTimeout(()=>{ee(f.title,{type:"celebration",title:`${f.title} unlocked!`,description:f.description,reward:f.reward,duration:6e3})},g*250)})},[a,c]);const v=w(()=>Object.values(e).filter(o=>o.unlocked).length,[e]),x=w(()=>Object.keys(e).length,[e]),k=w(()=>x===0?0:Math.round(v/x*100),[x,v]);return{achievements:e,unlockedCount:v,totalCount:x,completion:k}},me={active:{bg:"rgba(16,185,129,0.18)",color:"#10b981"},paused:{bg:"rgba(245,158,11,0.18)",color:"#b45309"},error:{bg:"rgba(239,68,68,0.18)",color:"#dc2626"}},Z=(a,c,e)=>Math.min(Math.max(a,c),e),E=[{id:"ops-guardian",name:"Ops Guardian",description:"Route incidents to the right squad and auto-generate postmortems.",category:"operations",keywords:["ops","operations","it","engineering"],preview:{success:99.92,throughput:240,savings:6200}},{id:"revenue-loop",name:"Revenue Loop",description:"Recover stalled deals with AI nudges and synced playbooks.",category:"revenue",keywords:["sales","revenue","revops","marketing"],preview:{success:99.4,throughput:185,savings:7800}},{id:"support-coach",name:"Support Coach",description:"Coach agents live with empathetic macros and churn signals.",category:"support",keywords:["support","customer","cx","service"],preview:{success:98.7,throughput:320,savings:5400}},{id:"commerce-recover",name:"Cart Recovery Bot",description:"Re-engage shoppers with multi-channel outreach automatically.",category:"ecommerce",keywords:["commerce","retail","ecommerce","d2c"],preview:{success:99.1,throughput:410,savings:6600}}];function Qe({user:a,openAuth:c}){var ae,se,de;const{darkMode:e}=be(),[u,v]=L(E[0]),[x,k]=L(E[0].preview),[o,b]=L([]),[g,f]=L(!0),[$,y]=L(null),[D,A]=L({}),[z,N]=L(1),I=ze(),S=J(t=>{v(t),k(t.preview)},[]),F=J(t=>{t.preventDefault();const s=t.dataTransfer.getData("automation-id"),l=E.find(p=>p.id===s);l&&S(l)},[S]),V=J(t=>{t.preventDefault(),t.dataTransfer.dropEffect="copy"},[]),X=J(t=>s=>{s.dataTransfer.setData("automation-id",t.id),s.dataTransfer.effectAllowed="copy"},[]);W(()=>{if(!a){f(!1);return}ue(this,null,function*(){var s,l;try{y(null);const p=yield Ae.get("/deployments"),d=Te("deployments")(p);b(d||[])}catch(p){console.error("Failed to load deployments:",p),y(p);const d=(s=p==null?void 0:p.response)==null?void 0:s.data;(l=d==null?void 0:d.errors)!=null&&l.length?ee(d.errors.map(h=>`${h.field}: ${h.message}`).join(", "),{type:"error"}):ee((d==null?void 0:d.message)||"Failed to load deployments",{type:"error"})}finally{f(!1)}})},[a]),W(()=>{if(!a||typeof window=="undefined")return;const t=`artifically:login-streak:${a.id||a.email}`,s=new Date;s.setHours(0,0,0,0);const l=s.toISOString().split("T")[0];try{const p=window.localStorage.getItem(t);let d=1;if(p){const h=JSON.parse(p),m=h==null?void 0:h.lastDate;if(m){const C=new Date(m);C.setHours(0,0,0,0);const M=s.getTime()-C.getTime(),R=Math.round(M/(1e3*60*60*24));R===0?d=h.count||1:R===1?d=(h.count||0)+1:d=1}}N(d),window.localStorage.setItem(t,JSON.stringify({lastDate:l,count:d}))}catch(p){N(1)}},[a]),W(()=>{if(!(o!=null&&o.length)){A({});return}A(t=>{const s=T({},t);return o.forEach(l=>{l!=null&&l.id&&typeof s[l.id]!="number"&&(s[l.id]=Z(Math.round(Math.random()*4)+1,1,12))}),s})},[o]),W(()=>{if(!(o!=null&&o.length))return;const t=setInterval(()=>{A(s=>{const l={};return o.forEach(p=>{const d=typeof s[p.id]=="number"?s[p.id]:Z(Math.round(Math.random()*4)+1,1,12),h=Math.floor(Math.random()*3)-1;l[p.id]=Z(d+h,1,24)}),l})},7e3);return()=>clearInterval(t)},[o]),W(()=>{u&&k(u.preview)},[u]),W(()=>{if(!u)return;const t=setInterval(()=>{k(s=>{var d,h,m;const l=u.preview||s,p=(C,M,R=0)=>{const q=C+(Math.random()-.5)*M;return R>0?Number(q.toFixed(R)):Math.round(q)};return{success:Math.min(100,Math.max(95,p((d=l.success)!=null?d:99,.35,2))),throughput:Math.max(0,p((h=l.throughput)!=null?h:200,28)),savings:Math.max(0,p((m=l.savings)!=null?m:5e3,380))}})},6500);return()=>clearInterval(t)},[u]);const j=w(()=>(t,s="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0}).format(t),[]),U=w(()=>[{key:"businessName",label:"Business Name"},{key:"businessEmail",label:"Business Email"},{key:"businessPhone",label:"Business Phone"},{key:"websiteUrl",label:"Website URL"}],[]),B=w(()=>{const t=U.length;if(!a)return{percent:0,completed:[],missing:U,total:t};const s=U.filter(({key:d})=>!!a[d]),l=U.filter(({key:d})=>!a[d]);return{percent:t===0?0:Math.round(s.length/t*100),completed:s,missing:l,total:t}},[U,a]),{achievements:te,unlockedCount:K,totalCount:_,completion:re}=Be({deploymentsCount:o.length,streak:z}),ye=w(()=>Object.values(te||{}),[te]),O=w(()=>o!=null&&o.length?o.reduce((t,s)=>{var m,C,M,R;const l=(m=s==null?void 0:s.requestsUsed)!=null?m:0,p=(C=s==null?void 0:s.requestLimit)!=null?C:0,d=l>0?l:Math.round(p*.4),h=(R=(M=s==null?void 0:s.automation)==null?void 0:M.priceMonthly)!=null?R:320;return t+d*3.75+h*.25},0):0,[o]),ve=w(()=>{const t=o.reduce((h,m)=>{var M,R,q,le;if(typeof((M=m.metrics)==null?void 0:M.hoursSaved)=="number")return h+m.metrics.hoursSaved;const C=(le=(q=m.requestsUsed)!=null?q:(R=m.metrics)==null?void 0:R.runs)!=null?le:90;return h+Math.max(30,Math.round(C/2))},0),s=o.reduce((h,m)=>{var M,R;if(typeof((M=m.metrics)==null?void 0:M.runs)=="number")return h+m.metrics.runs;const C=(R=m.requestsUsed)!=null?R:160;return h+Math.max(C,120)},0),l=t||(o.length?o.length*42:120),p=s||(o.length?o.length*180:420),d=Math.max(O||l*58,0);return[{key:"hours",label:"Hours saved",value:`${l.toLocaleString()}h`,accent:"#0ea5e9"},{key:"runs",label:"Automations executed",value:p.toLocaleString(),accent:"#a855f7"},{key:"savings",label:"Money saved",value:j(Math.round(d)),accent:"#22c55e"}]},[o,O,j]),ie=w(()=>Math.min(100,Math.round(z/14*100)),[z]),oe=w(()=>Math.min(100,Math.round(((o==null?void 0:o.length)||0)/5*100)),[o]),ne=w(()=>Math.min(100,Math.round((O||0)/5e3*100)),[O]),P=w(()=>{var p;const s=((a==null?void 0:a.industry)||(a==null?void 0:a.businessType)||"").toLowerCase().split(/[^a-z0-9]+/).filter(Boolean);if(s.length){const d=E.find(h=>h.keywords.some(m=>s.includes(m)));if(d)return d}if(o.length===0)return E[0];const l=new Set(o.map(d=>{var h;return((h=d.automation)==null?void 0:h.id)||d.automationId}).filter(Boolean));return(p=E.find(d=>!l.has(d.id)))!=null?p:E[0]},[o,a]),xe=w(()=>[{id:"first",icon:"🚀",label:"First automation",unlocked:o.length>0,description:"Launch your first workflow to unlock AI guidance and deeper analytics."},{id:"scale",icon:"🌐",label:"5 live automations",unlocked:o.length>=5,description:"Reach full-team coverage and earn concierge rollout reviews."},{id:"streak",icon:"🔥",label:"7-day streak",unlocked:z>=7,description:"Stay active every day for a week to unlock streak boosts."}],[o.length,z]),we=w(()=>[{key:"streak",title:"Activity Streak",value:`${z} day${z===1?"":"s"}`,description:"Review your automations daily to keep the momentum and unlock streak rewards.",progress:ie,accent:e?"#22d3ee":"#0284c7"},{key:"roi",title:"ROI Milestone",value:j(Math.round(O)||0),description:"Projected monthly savings generated by your deployed automations.",progress:ne,accent:"#6366f1"},{key:"coverage",title:"Automation Coverage",value:`${o.length} active`,description:"Reach five live automations to secure the Automation Architect badge.",progress:oe,accent:"#f97316"}],[z,ie,e,O,j,ne,o.length,oe]),ke=w(()=>{const t=[{target:"dashboard-profile-progress",title:"Complete your profile",description:"Add your business details to unlock personalised onboarding and boost engagement by 30%+."}];return t.push({target:"dashboard-ai-suggestion",title:"Review your AI suggestion",description:"We recommend a starter automation tailored to your industry signals—preview it in seconds."}),((o==null?void 0:o.length)||0)===0?t.push({target:"dashboard-action-button",title:"Launch your first automation",description:"Open the marketplace to request a demo and claim the Early Adopter achievement."}):t.push({target:"dashboard-collaboration",title:"Collaborate in real time",description:"See how many teammates are reviewing each automation to coordinate launch readiness."}),t.push({target:"dashboard-achievements",title:"Track achievements & rewards",description:`You've unlocked ${K} of ${_} milestones—keep going to earn exclusive perks!`}),t.push({target:"dashboard-gamification",title:"Monitor streaks and ROI",description:"Let the streak, coverage, and ROI progress bars keep your automation goals on track."}),t.push({target:"dashboard-marketplace-embed",title:"Drag in a new automation",description:"Drop automations into your workspace to simulate live performance before deploying."}),t},[o==null?void 0:o.length,K,_]),Q=(t,s,l)=>r("section",{style:{padding:`${i("3xl")} 0`,textAlign:"center",color:e?"#e2e8f0":"#1f2937"},children:n("div",{className:"container",style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.9)",borderRadius:"1.5rem",padding:i("xl"),border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"}`,boxShadow:e?"0 40px 70px rgba(8, 15, 34, 0.55)":"0 40px 70px rgba(148, 163, 184, 0.35)"},children:[r("h2",{style:{fontSize:"2rem",marginBottom:i("sm")},children:t}),r("p",{style:{color:e?"#94a3b8":"#475569",marginBottom:i("lg")},children:s}),l]})});return a?g?Q("Loading your dashboard","We’re fetching your latest deployment metrics.",r("div",{className:"loading",style:{width:"40px",height:"40px",margin:"0 auto"}})):$&&o.length===0?Q("Unable to Load Dashboard","We encountered an issue loading your deployments. Please try again.",r("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Retry"})):n("section",{className:"dashboard",style:{padding:`${i("3xl")} 0`},children:[n("div",{className:"container",style:{display:"grid",gap:i("lg")},children:[n("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:i("sm"),background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",padding:i("md"),borderRadius:"1.25rem",border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"}`},children:[n("div",{children:[n("h1",{style:{fontSize:"1.8rem",fontWeight:700},children:["Welcome back, ",a.businessName||a.email]}),r("p",{style:{color:e?"#94a3b8":"#475569"},children:"Your deployed automations and usage"})]}),n("div",{style:{display:"flex",alignItems:"center",gap:i("xs",1.5)},children:[r(De,{}),r("button",{className:"btn btn-primary","data-tour-id":"dashboard-action-button",onClick:()=>I("/marketplace"),children:"+ Add Automation"})]})]}),r("div",{"data-tour-id":"dashboard-stats",style:{display:"grid",gap:i("fluid-sm"),gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:ve.map(t=>n("div",{style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",borderRadius:"1.25rem",padding:i("fluid-sm"),border:`1px solid ${e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.25)"}`,display:"grid",gap:i("xs")},children:[r("span",{style:{fontSize:"0.8rem",letterSpacing:"0.08em",textTransform:"uppercase",color:e?"#94a3b8":"#475569"},children:t.label}),r("span",{style:{fontSize:"1.85rem",fontWeight:700,color:t.accent},children:t.value})]},t.key))}),P&&n("div",{"data-tour-id":"dashboard-ai-suggestion",style:{background:e?"rgba(30,41,59,0.78)":"rgba(248,250,252,0.96)",borderRadius:"1.25rem",padding:i("md"),border:`1px solid ${e?"rgba(99,102,241,0.3)":"rgba(99,102,241,0.2)"}`,display:"grid",gap:i("xs",1.5)},children:[n("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:i("sm")},children:[n("div",{children:[r("span",{style:{fontSize:"0.75rem",letterSpacing:"0.08em",textTransform:"uppercase",color:e?"#a5b4fc":"#4f46e5"},children:"AI assistant"}),r("h2",{style:{margin:`${i("2xs",1.4)} 0 0`,fontSize:"1.35rem"},children:P.name})]}),r("button",{className:"btn btn-secondary",onClick:()=>S(P),children:"Load into preview"})]}),n("p",{style:{margin:0,color:e?"#cbd5e1":"#475569",lineHeight:1.6},children:[P.description," We picked this based on your industry profile. Drop it into the playground to explore metrics before going live."]})]}),n("div",{"data-tour-id":"dashboard-profile-progress",style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",borderRadius:"1.25rem",padding:i("md"),border:`1px solid ${e?"rgba(99,102,241,0.35)":"rgba(99,102,241,0.25)"}`,display:"grid",gap:i("sm")},children:[n("div",{style:{display:"grid",gap:i("2xs",1.4)},children:[r("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:700},children:"Profile completion"}),r("p",{style:{margin:0,color:e?"#94a3b8":"#475569",fontSize:"0.95rem"},children:"Finish your business profile to unlock tailored onboarding nudges and drive more engaged automation rollouts."})]}),n("div",{style:{display:"grid",gap:i("xs")},children:[n("div",{style:{display:"flex",justifyContent:"space-between",color:e?"#cbd5e1":"#1f2937"},children:[n("span",{children:[B.percent,"% complete"]}),n("span",{children:[B.completed.length,"/",B.total]})]}),r("div",{style:{width:"100%",height:"10px",borderRadius:"999px",background:e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.25)",overflow:"hidden"},children:r("div",{style:{width:`${B.percent}%`,height:"100%",background:"linear-gradient(90deg, #10b981, #22d3ee)",transition:"width 0.3s ease"}})})]}),r("div",{style:{fontSize:"0.85rem",color:e?"#94a3b8":"#475569"},children:B.missing.length?n(pe,{children:["Next up: "," ",r("strong",{children:B.missing.map(t=>t.label).join(", ")})]}):n(pe,{children:[r("strong",{children:"Great!"})," Your profile is complete and ready for deeper insights."]})})]}),n("section",{"data-tour-id":"dashboard-marketplace-embed",style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",borderRadius:"1.35rem",border:`1px solid ${e?"rgba(99,102,241,0.25)":"rgba(148,163,184,0.25)"}`,padding:i("md",1.1667),display:"grid",gap:i("md")},children:[n("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:i("sm")},children:[n("div",{children:[r("h2",{style:{margin:0,fontSize:"1.4rem"},children:"Marketplace preview"}),r("p",{style:{margin:`${i("2xs",1.4)} 0 0`,color:e?"#94a3b8":"#475569"},children:"Drag automations into the live preview. We’ll simulate metrics so you can sense how it performs before deployment."})]}),r("button",{className:"btn btn-primary",onClick:()=>I("/marketplace"),children:"Browse marketplace"})]}),n("div",{style:{display:"grid",gap:i("md"),gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},children:[r("div",{style:{display:"grid",gap:i("sm")},children:E.map(t=>n("article",{draggable:!0,onDragStart:X(t),onClick:()=>S(t),style:{background:e?"rgba(30,41,59,0.85)":"rgba(248,250,252,0.95)",borderRadius:"1.15rem",padding:i("fluid-sm"),border:`1px dashed ${e?"rgba(148,163,184,0.35)":"rgba(99,102,241,0.35)"}`,cursor:"grab",display:"grid",gap:i("xs")},children:[r("span",{style:{fontSize:"0.75rem",color:e?"#a5b4fc":"#6366f1"},children:"Drag to preview"}),r("h3",{style:{margin:0,fontSize:"1.1rem"},children:t.name}),r("p",{style:{margin:0,color:e?"#cbd5e1":"#475569",lineHeight:1.5},children:t.description})]},t.id))}),n("div",{onDrop:F,onDragOver:V,role:"presentation",style:{minHeight:"260px",borderRadius:"1.25rem",border:`2px dashed ${e?"rgba(99,102,241,0.35)":"rgba(99,102,241,0.45)"}`,background:e?"rgba(17,24,39,0.85)":"rgba(241,245,249,0.9)",padding:i("md",1.1667),display:"grid",gap:i("sm"),alignContent:"start"},children:[n("div",{children:[r("span",{style:{fontSize:"0.75rem",color:e?"#a5b4fc":"#6366f1",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Live demo"}),r("h3",{style:{margin:`${i("2xs",1.4)} 0 0`,fontSize:"1.35rem"},children:u.name})]}),r("p",{style:{margin:0,color:e?"#cbd5e1":"#475569",lineHeight:1.6},children:u.description}),r("div",{style:{display:"grid",gap:i("xs",1.5),gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))"},children:[{label:"Success rate",value:`${((ae=x.success)!=null?ae:u.preview.success).toFixed(2)}%`},{label:"Runs / hour",value:Math.max(0,Math.round((se=x.throughput)!=null?se:u.preview.throughput)).toLocaleString()},{label:"Monthly savings",value:j(Math.round((de=x.savings)!=null?de:u.preview.savings))}].map(t=>n("div",{style:{background:e?"rgba(30,41,59,0.8)":"rgba(255,255,255,0.95)",borderRadius:"0.85rem",padding:i("xs",1.7),border:`1px solid ${e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.3)"}`},children:[r("div",{style:{fontSize:"0.75rem",color:e?"#94a3b8":"#64748b",textTransform:"uppercase",letterSpacing:"0.08em"},children:t.label}),r("div",{style:{fontSize:"1.2rem",fontWeight:700},children:t.value})]},t.label))})]})]})]}),n("div",{"data-tour-id":"dashboard-achievements",style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",borderRadius:"1.25rem",padding:i("md"),border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"}`,display:"grid",gap:i("fluid-sm")},children:[n("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:i("xs",1.5)},children:[n("div",{children:[r("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:700},children:"Achievement tracker"}),n("p",{style:{margin:`${i("2xs",1.4)} 0 0`,color:e?"#94a3b8":"#475569",fontSize:"0.95rem"},children:[K," of ",_," milestones unlocked"]})]}),n("span",{style:{fontSize:"0.85rem",fontWeight:600,color:e?"#a5b4fc":"#4338ca"},children:[re,"% complete"]})]}),r("div",{style:{display:"grid",gap:i("xs")},children:r("div",{style:{width:"100%",height:"8px",borderRadius:"999px",background:e?"rgba(99,102,241,0.2)":"rgba(99,102,241,0.15)",overflow:"hidden"},children:r("div",{style:{width:`${re}%`,height:"100%",background:"linear-gradient(90deg, #6366f1, #c084fc)",transition:"width 0.3s ease"}})})}),r("div",{style:{display:"grid",gap:i("sm"),gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:ye.map(t=>{const s=!!(t!=null&&t.unlocked),l=t!=null&&t.unlockedAt?new Date(t.unlockedAt).toLocaleDateString():null;return n("div",{style:{borderRadius:"1rem",border:`1px solid ${s?e?"rgba(16,185,129,0.45)":"rgba(16,185,129,0.35)":e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.25)"}`,background:s?e?"rgba(16,185,129,0.12)":"rgba(134,239,172,0.2)":e?"rgba(15,23,42,0.6)":"rgba(248,250,252,0.9)",padding:i("sm",1.1),display:"grid",gap:i("xs")},children:[n("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r("strong",{style:{fontSize:"1rem"},children:t.title}),r("span",{style:{fontSize:"0.75rem",fontWeight:600,color:s?"#0f766e":e?"#94a3b8":"#64748b"},children:s?"Unlocked":"Locked"})]}),r("p",{style:{margin:0,fontSize:"0.85rem",color:e?"#cbd5e1":"#475569"},children:t.description}),n("span",{style:{fontSize:"0.8rem",fontWeight:600},children:["🎁 ",t.reward]}),l&&n("span",{style:{fontSize:"0.75rem",color:e?"#94a3b8":"#64748b"},children:["Unlocked on ",l]})]},t.id)})})]}),n("section",{"data-tour-id":"dashboard-badges",style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",borderRadius:"1.25rem",padding:i("md"),border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"}`,display:"grid",gap:i("fluid-sm")},children:[r("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:i("xs",1.5)},children:n("div",{children:[r("h3",{style:{margin:0,fontSize:"1.2rem"},children:"Badge milestones"}),r("p",{style:{margin:`${i("2xs",1.4)} 0 0`,color:e?"#94a3b8":"#475569"},children:"Unlock badges as you launch automations and keep engagement streaks alive."})]})}),r("div",{style:{display:"grid",gap:i("sm"),gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:xe.map(t=>n("div",{style:{borderRadius:"1rem",border:`1px solid ${t.unlocked?"rgba(34,197,94,0.45)":e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.3)"}`,background:t.unlocked?e?"rgba(22,163,74,0.15)":"rgba(22,163,74,0.12)":e?"rgba(30,41,59,0.6)":"rgba(248,250,252,0.9)",padding:i("sm",1.1),display:"grid",gap:i("xs")},children:[r("span",{style:{fontSize:"1.5rem"},children:t.icon}),r("div",{style:{fontWeight:600},children:t.label}),r("p",{style:{margin:0,color:e?"#cbd5e1":"#475569",fontSize:"0.9rem",lineHeight:1.5},children:t.description}),r("span",{style:{fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.08em",color:t.unlocked?"#22c55e":"#94a3b8"},children:t.unlocked?"Unlocked":"Locked"})]},t.id))})]}),r("div",{"data-tour-id":"dashboard-gamification",style:{display:"grid",gap:i("fluid-sm"),gridTemplateColumns:"repeat(auto-fit, minmax(230px, 1fr))"},children:we.map(t=>n("div",{style:{borderRadius:"1.25rem",border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.3)"}`,background:e?"rgba(15,23,42,0.7)":"rgba(255,255,255,0.95)",padding:i("fluid-sm"),display:"grid",gap:i("xs",1.5)},children:[n("div",{children:[r("h4",{style:{margin:0,fontSize:"1.05rem",fontWeight:700},children:t.title}),r("p",{style:{margin:`${i("2xs",1.4)} 0 0`,fontSize:"0.85rem",color:e?"#94a3b8":"#475569"},children:t.description})]}),r("div",{style:{fontSize:"1.5rem",fontWeight:700,color:t.accent},children:t.value}),r("div",{style:{width:"100%",height:"8px",borderRadius:"999px",background:e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.25)",overflow:"hidden"},children:r("div",{style:{width:`${t.progress}%`,height:"100%",background:t.accent,opacity:.8,transition:"width 0.3s ease"}})})]},t.key))}),o.length===0?n("div",{className:"empty-state",style:{textAlign:"center",padding:i("2xl"),borderRadius:"1.5rem",border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"}`,background:e?"rgba(15,23,42,0.7)":"rgba(255,255,255,0.95)"},children:[r("div",{style:{fontSize:"3rem",marginBottom:i("sm"),opacity:.6},children:"🤖"}),r("h3",{style:{fontSize:"1.4rem",marginBottom:i("xs")},children:"No Automations Yet"}),r("p",{style:{color:e?"#94a3b8":"#475569",maxWidth:"400px",margin:`0 auto ${i("md")}`},children:"Browse the marketplace to deploy your first AI automation and start transforming your business operations."}),r("button",{className:"btn btn-primary",onClick:()=>I("/marketplace"),children:"Browse Marketplace"})]}):r("div",{className:"deployments-list",style:{display:"grid",gap:i("md")},children:o.map((t,s)=>{var h,m,C,M;const l=(t.status||"active").toLowerCase(),p=me[l]||me.active,d=t.requestLimit?Math.min(100,Math.round(t.requestsUsed/t.requestLimit*100)):null;return n("article",{style:{borderRadius:"1.25rem",border:`1px solid ${e?"rgba(148,163,184,0.25)":"rgba(148,163,184,0.35)"}`,padding:i("md",1.1667),background:e?"linear-gradient(145deg, rgba(15,23,42,0.8), rgba(30,41,59,0.85))":"linear-gradient(145deg, rgba(255,255,255,0.97), rgba(241,245,249,0.94))",boxShadow:e?"0 30px 55px rgba(8, 15, 34, 0.45)":"0 30px 55px rgba(148, 163, 184, 0.3)",display:"grid",gap:i("fluid-sm")},children:[n("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:i("sm"),flexWrap:"wrap"},children:[n("div",{children:[r("h2",{style:{fontSize:"1.35rem",fontWeight:700},children:((h=t.automation)==null?void 0:h.name)||"Automation"}),r("p",{style:{color:e?"#94a3b8":"#475569"},children:((m=t.automation)==null?void 0:m.description)||"Deployed workflow"})]}),n("div",{style:{display:"flex",alignItems:"center",gap:i("xs",1.5)},children:[r("span",{style:{padding:`${i("2xs",1.4)} ${i("xs",1.5)}`,borderRadius:"0.75rem",fontSize:"0.8rem",fontWeight:700,textTransform:"uppercase",background:p.bg,color:p.color},children:l}),((C=t.automation)==null?void 0:C.priceMonthly)&&n("span",{style:{color:e?"#cbd5e1":"#475569"},children:[j(t.automation.priceMonthly,t.automation.currency),"/mo"]})]})]}),n("div",{"data-tour-id":s===0?"dashboard-collaboration":void 0,style:{display:"flex",alignItems:"center",gap:i("xs"),color:e?"#22d3ee":"#0f766e",fontWeight:600},children:[n("span",{children:["👥 ",(M=D[t.id])!=null?M:1," teammates viewing this automation"]}),r("span",{style:{fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",opacity:.8},children:"Live"})]}),d!==null&&n("div",{style:{display:"grid",gap:i("xs")},children:[n("div",{style:{display:"flex",justifyContent:"space-between",color:e?"#cbd5e1":"#475569"},children:[r("span",{children:"Usage this month"}),n("span",{children:[t.requestsUsed,"/",t.requestLimit," (",d,"%)"]})]}),r("div",{style:{width:"100%",height:"10px",borderRadius:"999px",background:e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.3)",overflow:"hidden"},children:r("div",{style:{width:`${d}%`,height:"100%",background:"linear-gradient(90deg, #6366f1, #06b6d4)"}})})]}),t.placeholders&&n("details",{style:{background:e?"rgba(15,23,42,0.75)":"rgba(255,255,255,0.95)",borderRadius:"1rem",border:`1px solid ${e?"rgba(148,163,184,0.2)":"rgba(148,163,184,0.3)"}`,padding:`${i("sm")} ${i("fluid-sm")}`},children:[r("summary",{style:{cursor:"pointer",fontWeight:600},children:"Configuration Details"}),r("pre",{style:{marginTop:i("xs",1.5),background:"rgba(15,23,42,0.85)",color:"#f8fafc",padding:i("sm"),borderRadius:"0.85rem",fontFamily:"var(--font-mono)",fontSize:"0.85rem",overflowX:"auto"},children:JSON.stringify(t.placeholders,null,2)})]})]},t.id)})}),$&&o.length>0&&r("div",{role:"alert",style:{marginTop:i("xs"),padding:`${i("sm")} ${i("fluid-sm")}`,borderRadius:"1rem",border:`1px solid ${e?"rgba(239,68,68,0.4)":"rgba(239,68,68,0.5)"}`,background:e?"rgba(239,68,68,0.15)":"rgba(254,226,226,0.85)",color:e?"#fca5a5":"#b91c1c",textAlign:"center"},children:"Some data may not be up to date due to a connection issue."})]}),r(Ne,{steps:ke})]}):Q("Authentication Required","Please sign in to access your dashboard.",r("button",{className:"btn btn-primary",onClick:()=>c("signin"),children:"Sign In"}))}export{Qe as default};
