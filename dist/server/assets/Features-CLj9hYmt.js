var F=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var _=(r,a,t)=>a in r?F(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,g=(r,a)=>{for(var t in a||(a={}))N.call(a,t)&&_(r,t,a[t]);if(v)for(var t of v(a))C.call(a,t)&&_(r,t,a[t]);return r},f=(r,a)=>L(r,M(a));var S=(r,a)=>{var t={};for(var i in r)N.call(r,i)&&a.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&v)for(var i of v(r))a.indexOf(i)<0&&C.call(r,i)&&(t[i]=r[i]);return t};import{jsx as e,jsxs as o}from"react/jsx-runtime";import{useState as x,useRef as R,useCallback as H,useEffect as k,Suspense as W,memo as O}from"react";import{motion as E}from"framer-motion";import{s as m,d as w,F as b,u as $,e as z,T as j,S as B,c as G}from"./entry-server-CsfnY5-Y.js";import"react-dom/server";import"react-router-dom/server.mjs";import"stream";import"react-router-dom";import"react-dom";import"axios";import"gsap";import"gsap/ScrollTrigger.js";function A({cards:r=6}){return e("div",{className:"features-grid","aria-hidden":!0,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:m("md")},children:Array.from({length:r}).map((a,t)=>o("div",{style:{padding:m("md",1.1667),borderRadius:"1.25rem",border:"1px solid rgba(148,163,184,0.2)",background:"linear-gradient(160deg, rgba(148,163,184,0.2), rgba(148,163,184,0.1))",display:"grid",gap:m("fluid-sm"),minHeight:"220px"},children:[o("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e("span",{style:{width:"3rem",height:"3rem",borderRadius:"0.85rem",background:"rgba(99,102,241,0.25)",display:"block",animation:"pulse 1.6s ease-in-out infinite"}}),e("span",{style:{width:"5rem",height:"0.8rem",borderRadius:"999px",background:"rgba(148,163,184,0.4)",animation:"pulse 1.6s ease-in-out infinite"}})]}),e("span",{style:{width:"70%",height:"1.2rem",borderRadius:"999px",background:"rgba(226,232,240,0.6)",animation:"pulse 1.6s ease-in-out infinite"}}),e("span",{style:{width:"100%",height:"0.9rem",borderRadius:"999px",background:"rgba(203,213,225,0.5)",animation:"pulse 1.6s ease-in-out infinite"}}),e("span",{style:{width:"60%",height:"0.9rem",borderRadius:"999px",background:"rgba(203,213,225,0.35)",animation:"pulse 1.6s ease-in-out infinite"}})]},t))})}function D(r={}){const[a,t]=x(!1),i=R(null),n=R(null),c=()=>{n.current&&(n.current.disconnect(),n.current=null)},l=H(s=>{if(n.current&&n.current.disconnect(),!s){i.current=null;return}i.current=s,n.current=new IntersectionObserver(([d])=>{d!=null&&d.isIntersecting&&(t(!0),c())},g({rootMargin:"200px",threshold:.15},r)),n.current.observe(s)},[r]);return k(()=>()=>c(),[]),{ref:l,isIntersecting:a}}const K="/rsc/features";function T({features:r=w,stats:a=b}){const t=Array.isArray(r)?r.slice(0,4):[],i=a||b;return e("div",{className:"rsc-feature-grid","aria-live":"polite",children:t.map(n=>{var c,l;return o("article",{"data-fallback-node":"feature-card",children:[o("header",{style:{display:"flex",alignItems:"center",gap:m("xs",1.5)},children:[e("span",{"aria-hidden":"true",style:{width:"3rem",height:"3rem",display:"grid",placeItems:"center",borderRadius:"1rem",background:"linear-gradient(135deg, rgba(99,102,241,0.32), rgba(45,212,191,0.26))",fontSize:"1.35rem"},children:n.icon}),o("div",{children:[e("h4",{children:n.title}),e("small",{style:{color:"var(--gray-400)",fontWeight:600},children:n.status})]})]}),e("p",{children:n.description}),o("footer",{children:[o("span",{children:[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e("path",{d:"M2.5 8.5L6 12L13.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(c=i==null?void 0:i.averageROI)!=null?c:"5.0","x avg ROI"]}),o("span",{children:[(l=i==null?void 0:i.totalAutomations)!=null?l:"100","+ live"]})]})]},n.id)})})}function P({defaultFeatures:r=w,defaultStats:a=b}={}){const[t,i]=x(!1),[n,c]=x({status:"idle",markup:"",error:null}),l=R(!1),s=D({rootMargin:"400px"});k(()=>{i(!0)},[]),k(()=>{if(!t||!s.isIntersecting||l.current)return;const h=new AbortController;return l.current=!0,c({status:"loading",markup:"",error:null}),fetch(K,{headers:{Accept:"text/html","X-Server-Component":"1"},credentials:"same-origin",signal:h.signal}).then(p=>{if(!p.ok)throw new Error(`Failed to load server component: ${p.status}`);return p.text()}).then(p=>{const y=p.trim();if(!y||/<html[^>]*>/i.test(y)||/<body[^>]*>/i.test(y))throw new Error("Received invalid server markup");c({status:"success",markup:y,error:null})}).catch(p=>{h.signal.aborted||(console.error("Server feature highlight stream failed",p),c({status:"error",markup:"",error:p}))}),()=>{h.abort()}},[t,s.isIntersecting]);const d={className:"rsc-feature-shell","aria-label":"Feature insights",ref:s.ref};let u=e(A,{cards:4});return n.status==="success"&&n.markup?u=e("div",{className:"rsc-feature-grid",dangerouslySetInnerHTML:{__html:n.markup}}):n.status==="error"?u=e(T,{features:r,stats:a}):n.status==="idle"&&r&&r.length&&(u=e(T,{features:r,stats:a})),e("section",f(g({},d),{children:u}))}const U=O(function(n){var c=n,{feature:a,darkMode:t}=c,i=S(c,["feature","darkMode"]);return e(E.article,f(g({className:`feature-card glass-card ${t?"feature-card--dark":"feature-card--light"}`,whileHover:{y:-8,scale:1.02},transition:{type:"spring",stiffness:260,damping:24},layout:!0},i),{children:o("div",{className:"feature-card__inner",children:[o("div",{className:"feature-card__header",children:[e("div",{className:"feature-card__icon glass-card glass-card--subtle","aria-hidden":"true",children:a.icon}),e("span",{className:"feature-card__badge glass-pill",children:a.status})]}),o("div",{className:"feature-card__body",children:[e("h3",{children:a.title}),e("p",{children:a.description})]})]})}))},(r,a)=>r.feature.id===a.feature.id&&r.darkMode===a.darkMode),I={accent:{text:"var(--brand-glow)",background:"color-mix(in oklch, var(--brand-glow) 18%, transparent)",border:"color-mix(in oklch, var(--brand-glow) 35%, transparent)"},energy:{text:"var(--brand-energy)",background:"color-mix(in oklch, var(--brand-energy) 18%, transparent)",border:"color-mix(in oklch, var(--brand-energy) 35%, transparent)"},success:{text:"var(--success-vibrant)",background:"color-mix(in oklch, var(--success-vibrant) 18%, transparent)",border:"color-mix(in oklch, var(--success-vibrant) 32%, transparent)"}};function V(){const{darkMode:r}=$(),[a,t]=x(()=>({loading:!1,features:w,stats:b}));k(()=>{let l=!0;const s=typeof AbortController!="undefined"?new AbortController:null;return z({signal:s==null?void 0:s.signal}).then(d=>{l&&t(u=>f(g({},u),{loading:!1,features:d.features||w,stats:d.stats||b}))}).catch(d=>{var u;(u=s==null?void 0:s.signal)!=null&&u.aborted||!l||t(h=>f(g({},h),{loading:!1}))}),()=>{var d;l=!1,(d=s==null?void 0:s.abort)==null||d.call(s)}},[]);const{features:i,stats:n,loading:c}=a;return e(E.section,{className:"features","data-animate-root":!0,style:{position:"relative",padding:`${m("3xl")} 0`,background:"radial-gradient(circle at 5% 0%, color-mix(in oklch, var(--brand-primary) 12%, transparent) 0%, transparent 65%), radial-gradient(circle at 95% 8%, color-mix(in oklch, var(--brand-energy) 16%, transparent) 0%, transparent 55%)"},initial:{opacity:0,y:48},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,ease:[.33,1,.68,1]},children:o("div",{className:"container",style:{position:"relative",zIndex:1,display:"grid",gap:m("lg",1.25),maxWidth:"var(--layout-max-width)",marginInline:"auto"},children:[o("div",{className:"section-header","data-animate":"fade-up","data-animate-context":"story",style:{display:"flex",flexDirection:"column",gap:m("sm"),alignItems:"flex-start"},children:[o("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",gap:m("sm"),flexWrap:"wrap"},children:[o("div",{"data-animate":"fade-up","data-animate-order":"1",children:[e("h2",{"data-kinetic":"glimmer",style:{fontSize:"clamp(2.1rem, 4vw, 2.8rem)",fontWeight:800,letterSpacing:"-0.02em",display:"inline-flex",gap:"0.35ch"},children:"Built for Modern Enterprises"}),e("p",{style:{maxWidth:"540px",color:"var(--text-secondary)",fontSize:"1.05rem"},"data-animate":"fade-up","data-animate-order":"2",children:"Automations that deliver measurable ROI from day one, with governance controls your compliance teams will love."})]}),e("div",{"data-animate":"scale-in","data-animate-order":"3","data-animate-context":"panel",children:e(j,{})})]}),e("div",{style:{display:"flex",flexWrap:"wrap",gap:m("xs",1.5)},"data-animate":"fade-up","data-animate-order":"4","data-animate-cascade":"0.05",children:[{label:"Accessibility first",tone:"success"},{label:"Glassmorphism UI",tone:"accent"},{label:`${n.totalAutomations}+ automations deployed`,tone:"energy"}].map(l=>{var s,d,u;return o("span",{className:"glass-pill",style:{display:"inline-flex",alignItems:"center",gap:m("2xs",1.4),padding:`${m("2xs",1.6)} ${m("xs",1.5)}`,borderRadius:"0.75rem",fontSize:"0.85rem",background:(s=I[l.tone])==null?void 0:s.background,color:(d=I[l.tone])==null?void 0:d.text,border:`1px solid ${((u=I[l.tone])==null?void 0:u.border)||"transparent"}`,fontWeight:600},children:[e("span",{"aria-hidden":"true",children:"●"}),l.label]},l.label)})})]}),e("div",{"data-animate":"blur-up","data-animate-context":"story","data-animate-order":"1",style:{position:"relative",borderRadius:"var(--rounded-3xl)",overflow:"hidden"},children:e(P,{defaultFeatures:i,defaultStats:n})}),c?e(A,{cards:4}):e(B,{className:"features-grid layout-bento",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"var(--layout-bento-gap)"},children:i.map(l=>e(G,{style:{display:"flex"},children:e(U,{feature:l,darkMode:r})},l.id))})]})})}function le(){return e(W,{fallback:e(A,{}),children:e(V,{})})}export{le as default};
